{"version":3,"file":"index-1791cf25.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.mjs","../../node_modules/lucide-react/dist/esm/createLucideIcon.mjs","../../node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs","../../node_modules/lucide-react/dist/esm/icons/arrow-left.mjs","../../node_modules/lucide-react/dist/esm/icons/banknote.mjs","../../node_modules/lucide-react/dist/esm/icons/check-circle.mjs","../../node_modules/lucide-react/dist/esm/icons/check.mjs","../../node_modules/lucide-react/dist/esm/icons/clock.mjs","../../node_modules/lucide-react/dist/esm/icons/credit-card.mjs","../../node_modules/lucide-react/dist/esm/icons/download.mjs","../../node_modules/lucide-react/dist/esm/icons/lock.mjs","../../node_modules/lucide-react/dist/esm/icons/qr-code.mjs","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs","../../node_modules/lucide-react/dist/esm/icons/scan.mjs","../../node_modules/lucide-react/dist/esm/icons/smartphone.mjs","../../node_modules/lucide-react/dist/esm/icons/trending-up.mjs","../../node_modules/lucide-react/dist/esm/icons/users.mjs","../../node_modules/lucide-react/dist/esm/icons/wifi-off.mjs","../../node_modules/lucide-react/dist/esm/icons/wifi.mjs","../../node_modules/lucide-react/dist/esm/icons/x-circle.mjs","../../src/services/api.js","../../src/components/AdminDashboard.jsx","../../src/components/TicketHistory.jsx","../../src/components/TicketController.jsx","../../src/components/AdminLogin.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.mjs';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: `lucide lucide-${toKebabCase(iconName)}`,\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]) || []\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\nvar createLucideIcon$1 = createLucideIcon;\n\nexport { createLucideIcon$1 as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst ArrowLeft = createLucideIcon(\"ArrowLeft\", [\n  [\"path\", { d: \"m12 19-7-7 7-7\", key: \"1l729n\" }],\n  [\"path\", { d: \"M19 12H5\", key: \"x3x0zl\" }]\n]);\n\nexport { ArrowLeft as default };\n//# sourceMappingURL=arrow-left.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Banknote = createLucideIcon(\"Banknote\", [\n  [\n    \"rect\",\n    { width: \"20\", height: \"12\", x: \"2\", y: \"6\", rx: \"2\", key: \"9lu3g6\" }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }],\n  [\"path\", { d: \"M6 12h.01M18 12h.01\", key: \"113zkx\" }]\n]);\n\nexport { Banknote as default };\n//# sourceMappingURL=banknote.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst CheckCircle = createLucideIcon(\"CheckCircle\", [\n  [\"path\", { d: \"M22 11.08V12a10 10 0 1 1-5.93-9.14\", key: \"g774vq\" }],\n  [\"polyline\", { points: \"22 4 12 14.01 9 11.01\", key: \"6xbx8j\" }]\n]);\n\nexport { CheckCircle as default };\n//# sourceMappingURL=check-circle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Check = createLucideIcon(\"Check\", [\n  [\"polyline\", { points: \"20 6 9 17 4 12\", key: \"10jjfj\" }]\n]);\n\nexport { Check as default };\n//# sourceMappingURL=check.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst CreditCard = createLucideIcon(\"CreditCard\", [\n  [\n    \"rect\",\n    { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"2\", key: \"ynyp8z\" }\n  ],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"10\", y2: \"10\", key: \"1b3vmo\" }]\n]);\n\nexport { CreditCard as default };\n//# sourceMappingURL=credit-card.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Download = createLucideIcon(\"Download\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n]);\n\nexport { Download as default };\n//# sourceMappingURL=download.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Lock = createLucideIcon(\"Lock\", [\n  [\n    \"rect\",\n    {\n      width: \"18\",\n      height: \"11\",\n      x: \"3\",\n      y: \"11\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"1w4ew1\"\n    }\n  ],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n]);\n\nexport { Lock as default };\n//# sourceMappingURL=lock.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst QrCode = createLucideIcon(\"QrCode\", [\n  [\"rect\", { width: \"5\", height: \"5\", x: \"3\", y: \"3\", rx: \"1\", key: \"1tu5fj\" }],\n  [\n    \"rect\",\n    { width: \"5\", height: \"5\", x: \"16\", y: \"3\", rx: \"1\", key: \"1v8r4q\" }\n  ],\n  [\n    \"rect\",\n    { width: \"5\", height: \"5\", x: \"3\", y: \"16\", rx: \"1\", key: \"1x03jg\" }\n  ],\n  [\"path\", { d: \"M21 16h-3a2 2 0 0 0-2 2v3\", key: \"177gqh\" }],\n  [\"path\", { d: \"M21 21v.01\", key: \"ents32\" }],\n  [\"path\", { d: \"M12 7v3a2 2 0 0 1-2 2H7\", key: \"8crl2c\" }],\n  [\"path\", { d: \"M3 12h.01\", key: \"nlz23k\" }],\n  [\"path\", { d: \"M12 3h.01\", key: \"n36tog\" }],\n  [\"path\", { d: \"M12 16v.01\", key: \"133mhm\" }],\n  [\"path\", { d: \"M16 12h1\", key: \"1slzba\" }],\n  [\"path\", { d: \"M21 12v.01\", key: \"1lwtk9\" }],\n  [\"path\", { d: \"M12 21v-1\", key: \"1880an\" }]\n]);\n\nexport { QrCode as default };\n//# sourceMappingURL=qr-code.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\n    \"path\",\n    { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }\n  ],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\n    \"path\",\n    { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }\n  ],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Scan = createLucideIcon(\"Scan\", [\n  [\"path\", { d: \"M3 7V5a2 2 0 0 1 2-2h2\", key: \"aa7l1z\" }],\n  [\"path\", { d: \"M17 3h2a2 2 0 0 1 2 2v2\", key: \"4qcy5o\" }],\n  [\"path\", { d: \"M21 17v2a2 2 0 0 1-2 2h-2\", key: \"6vwrx8\" }],\n  [\"path\", { d: \"M7 21H5a2 2 0 0 1-2-2v-2\", key: \"ioqczr\" }]\n]);\n\nexport { Scan as default };\n//# sourceMappingURL=scan.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Smartphone = createLucideIcon(\"Smartphone\", [\n  [\n    \"rect\",\n    {\n      width: \"14\",\n      height: \"20\",\n      x: \"5\",\n      y: \"2\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"1yt0o3\"\n    }\n  ],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }]\n]);\n\nexport { Smartphone as default };\n//# sourceMappingURL=smartphone.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst WifiOff = createLucideIcon(\"WifiOff\", [\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }],\n  [\"path\", { d: \"M8.5 16.5a5 5 0 0 1 7 0\", key: \"sej527\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 4.17-2.65\", key: \"11utq1\" }],\n  [\"path\", { d: \"M10.66 5c4.01-.36 8.14.9 11.34 3.76\", key: \"hxefdu\" }],\n  [\"path\", { d: \"M16.85 11.25a10 10 0 0 1 2.22 1.68\", key: \"q734kn\" }],\n  [\"path\", { d: \"M5 13a10 10 0 0 1 5.24-2.76\", key: \"piq4yl\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"20\", y2: \"20\", key: \"of4bc4\" }]\n]);\n\nexport { WifiOff as default };\n//# sourceMappingURL=wifi-off.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Wifi = createLucideIcon(\"Wifi\", [\n  [\"path\", { d: \"M5 13a10 10 0 0 1 14 0\", key: \"6v8j51\" }],\n  [\"path\", { d: \"M8.5 16.5a5 5 0 0 1 7 0\", key: \"sej527\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 20 0\", key: \"dnpr2z\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"20\", y2: \"20\", key: \"of4bc4\" }]\n]);\n\nexport { Wifi as default };\n//# sourceMappingURL=wifi.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst XCircle = createLucideIcon(\"XCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { XCircle as default };\n//# sourceMappingURL=x-circle.mjs.map\n","// src/services/api.js\r\nimport axios from \"axios\";\r\n\r\n// Configuration de base pour l'API\r\nconst API_BASE_URL = import.meta.env.PROD\r\n  ? window.location.origin // En production, m√™me domaine\r\n  : \"http://localhost:8888\"; // En d√©veloppement local avec Netlify Dev\r\n\r\n// Instance axios configur√©e\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000, // 30 secondes pour les fonctions Netlify\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// Intercepteur pour les erreurs\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    console.error(\"API Error:\", error);\r\n\r\n    // Gestion des erreurs r√©seau\r\n    if (!error.response) {\r\n      throw new Error(\"Probl√®me de connexion r√©seau\");\r\n    }\r\n\r\n    // Gestion des erreurs serveur\r\n    if (error.response.status >= 500) {\r\n      throw new Error(\"Erreur serveur. Veuillez r√©essayer plus tard.\");\r\n    }\r\n\r\n    throw error;\r\n  }\r\n);\r\n\r\n// Dans services/api.js - ajoutez ces fonctions\r\nexport const localTicketService = {\r\n  // Sauvegarder ticket localement\r\n  saveTicketToHistory(ticket) {\r\n    try {\r\n      const history = JSON.parse(localStorage.getItem(\"ticketHistory\") || \"[]\");\r\n      const existingIndex = history.findIndex((t) => t.id === ticket.id);\r\n\r\n      if (existingIndex >= 0) {\r\n        history[existingIndex] = ticket;\r\n      } else {\r\n        history.push(ticket);\r\n      }\r\n\r\n      localStorage.setItem(\"ticketHistory\", JSON.stringify(history));\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Erreur sauvegarde historique:\", error);\r\n      return false;\r\n    }\r\n  },\r\n\r\n  // R√©cup√©rer historique\r\n  getTicketHistory() {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(\"ticketHistory\") || \"[]\");\r\n    } catch (error) {\r\n      console.error(\"Erreur lecture historique:\", error);\r\n      return [];\r\n    }\r\n  },\r\n\r\n  // Mettre √† jour statut ticket\r\n  updateTicketStatus(ticketId, status) {\r\n    try {\r\n      const history = JSON.parse(localStorage.getItem(\"ticketHistory\") || \"[]\");\r\n      const updatedHistory = history.map((ticket) =>\r\n        ticket.id === ticketId ? { ...ticket, statut: status } : ticket\r\n      );\r\n      localStorage.setItem(\"ticketHistory\", JSON.stringify(updatedHistory));\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"Erreur mise √† jour statut:\", error);\r\n      return false;\r\n    }\r\n  },\r\n};\r\n\r\n// Service API pour les √©v√©nements\r\nexport const eventService = {\r\n  // R√©cup√©rer tous les √©v√©nements\r\n  async getEvents() {\r\n    try {\r\n      const response = await api.get(\"/api/events\");\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de la r√©cup√©ration des √©v√©nements:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Service API pour les codes promo\r\nexport const promoService = {\r\n  // Valider un code promo\r\n  async validatePromo(code, nombreBillets) {\r\n    try {\r\n      const response = await api.post(\"/api/validate-promo\", {\r\n        code,\r\n        nombreBillets,\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur validation code promo:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Service API pour les tickets\r\nexport const ticketService = {\r\n  // Cr√©er un nouveau ticket\r\n  async createTicket(ticketData) {\r\n    try {\r\n      const response = await api.post(\"/api/tickets\", ticketData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur cr√©ation ticket:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Valider un ticket (admin)\r\n  async validateTicket(ticketId, action) {\r\n    try {\r\n      const response = await api.put(`/api/tickets/${ticketId}/validate`, {\r\n        action, // 'approve' ou 'reject'\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur validation ticket:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // V√©rifier un ticket √† l'entr√©e\r\n  async verifyTicket(verificationData) {\r\n    try {\r\n      const response = await api.post(\"/api/tickets/verify\", verificationData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur v√©rification ticket:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // R√©cup√©rer un ticket par ID\r\n  async getTicketById(ticketId) {\r\n    try {\r\n      const response = await api.get(`/api/tickets/${ticketId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de la r√©cup√©ration du ticket:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Service API pour les paiements Mobile Money\r\nexport const paymentService = {\r\n  // Simulation paiement Mobile Money\r\n  async simulateMobileMoneyPayment(paymentData) {\r\n    try {\r\n      const response = await api.post(\r\n        \"/api/mobile-money/simulate\",\r\n        paymentData\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur simulation Mobile Money:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Webhook Mobile Money (pour les int√©grations r√©elles)\r\n  async handleMobileMoneyWebhook(webhookData) {\r\n    try {\r\n      const response = await api.post(\"/api/webhook/mobile-money\", webhookData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur webhook Mobile Money:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Service API pour l'administration\r\nexport const adminService = {\r\n  // R√©cup√©rer les statistiques admin\r\n  async getStats() {\r\n    try {\r\n      const response = await api.get(\"/api/admin/stats\");\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur r√©cup√©ration stats:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Utilitaires\r\nexport const apiUtils = {\r\n  // Test de connectivit√© API\r\n  async testConnection() {\r\n    try {\r\n      const response = await api.get(\"/api/events\");\r\n      return { success: true, data: response.data };\r\n    } catch (error) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  },\r\n\r\n  // R√©cup√©rer l'URL de base de l'API\r\n  getBaseURL() {\r\n    return API_BASE_URL;\r\n  },\r\n};\r\n\r\nexport default api;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Users,\r\n  TrendingUp,\r\n  Clock,\r\n  CheckCircle,\r\n  XCircle,\r\n  Scan,\r\n  RefreshCw,\r\n  AlertTriangle,\r\n  Wifi,\r\n  WifiOff,\r\n} from \"lucide-react\";\r\n\r\nimport { adminService, ticketService } from \"../services/api\";\r\n\r\nconst AdminDashboard = ({ onBack, isOnline = true, apiWorking = true }) => {\r\n  const [stats, setStats] = useState({\r\n    totalTickets: { count: 0 },\r\n    pendingTickets: { count: 0 },\r\n    totalRevenue: { total: 0 },\r\n    ticketsPending: [],\r\n    ticketsRecent: [],\r\n  });\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [scannedTicket, setScannedTicket] = useState(\"\");\r\n  const [verificationResult, setVerificationResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const isAuthenticated =\r\n      localStorage.getItem(\"adminAuthenticated\") === \"true\";\r\n    if (!isAuthenticated) {\r\n      // Rediriger vers la page de login ou accueil\r\n      if (onBack) onBack();\r\n      return;\r\n    }\r\n  }, [onBack]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"adminAuthenticated\");\r\n    if (onBack) onBack();\r\n  };\r\n\r\n  // Charger les statistiques\r\n  const loadStats = async () => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        const data = await adminService.getStats();\r\n        console.log(\"API Stats data:\", data);\r\n\r\n        // V√©rifier et normaliser la structure des donn√©es\r\n        setStats({\r\n          totalTickets: data.totalTickets || { count: 0 },\r\n          pendingTickets: data.pendingTickets || { count: 0 },\r\n          totalRevenue: data.totalRevenue || { total: 0 },\r\n          ticketsPending: Array.isArray(data.ticketsPending)\r\n            ? data.ticketsPending\r\n            : [],\r\n          ticketsRecent: Array.isArray(data.ticketsRecent)\r\n            ? data.ticketsRecent\r\n            : [],\r\n        });\r\n      } else {\r\n        // Mode hors-ligne - utiliser les donn√©es locales\r\n        const localTickets = JSON.parse(\r\n          localStorage.getItem(\"tickets\") || \"[]\"\r\n        );\r\n        const localTransactions = JSON.parse(\r\n          localStorage.getItem(\"transactions\") || \"[]\"\r\n        );\r\n\r\n        const confirmedTickets = localTickets.filter(\r\n          (t) => t.statut === \"confirmed\"\r\n        );\r\n        const pendingTickets = localTickets.filter(\r\n          (t) => t.statut === \"pending\"\r\n        );\r\n        const completedTransactions = localTransactions.filter(\r\n          (t) => t.statut === \"completed\"\r\n        );\r\n\r\n        setStats({\r\n          totalTickets: { count: confirmedTickets.length },\r\n          pendingTickets: { count: pendingTickets.length },\r\n          totalRevenue: {\r\n            total: completedTransactions.reduce(\r\n              (sum, t) => sum + (t.montant || 0),\r\n              0\r\n            ),\r\n          },\r\n          ticketsPending: pendingTickets.slice(-10),\r\n          ticketsRecent: confirmedTickets.slice(-10).reverse(),\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Erreur chargement stats:\", err);\r\n      setError(\"Impossible de charger les statistiques\");\r\n\r\n      // En cas d'erreur, d√©finir des valeurs par d√©faut\r\n      setStats({\r\n        totalTickets: { count: 0 },\r\n        pendingTickets: { count: 0 },\r\n        totalRevenue: { total: 0 },\r\n        ticketsPending: [],\r\n        ticketsRecent: [],\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Valider un ticket\r\n  const validateTicket = async (ticketId, action) => {\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        await ticketService.validateTicket(ticketId, action);\r\n      } else {\r\n        // Mode hors-ligne - mettre √† jour localement\r\n        const localTickets = JSON.parse(\r\n          localStorage.getItem(\"tickets\") || \"[]\"\r\n        );\r\n        const updatedTickets = localTickets.map((ticket) =>\r\n          ticket.id === ticketId\r\n            ? {\r\n                ...ticket,\r\n                statut: action === \"approve\" ? \"confirmed\" : \"rejected\",\r\n                dateValidation: new Date().toISOString(),\r\n              }\r\n            : ticket\r\n        );\r\n        localStorage.setItem(\"tickets\", JSON.stringify(updatedTickets));\r\n\r\n        // Mettre √† jour les transactions locales\r\n        const localTransactions = JSON.parse(\r\n          localStorage.getItem(\"transactions\") || \"[]\"\r\n        );\r\n        const updatedTransactions = localTransactions.map((transaction) =>\r\n          transaction.ticketId === ticketId\r\n            ? {\r\n                ...transaction,\r\n                statut: action === \"approve\" ? \"completed\" : \"failed\",\r\n              }\r\n            : transaction\r\n        );\r\n        localStorage.setItem(\r\n          \"transactions\",\r\n          JSON.stringify(updatedTransactions)\r\n        );\r\n      }\r\n\r\n      // Recharger les stats\r\n      await loadStats();\r\n\r\n      const actionText = action === \"approve\" ? \"approuv√©\" : \"rejet√©\";\r\n      alert(`‚úÖ Ticket ${actionText} avec succ√®s`);\r\n    } catch (err) {\r\n      console.error(\"Erreur validation ticket:\", err);\r\n      setError(`Erreur lors de la validation: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  // V√©rifier un ticket √† l'entr√©e\r\n  const verifyTicketForEntry = async () => {\r\n    if (!scannedTicket.trim()) {\r\n      setError(\"Veuillez entrer un ID ou QR code\");\r\n      return;\r\n    }\r\n\r\n    setVerificationResult(null);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        const result = await ticketService.verifyTicket({\r\n          ticketId: scannedTicket,\r\n          // qrCode: scannedTicket,\r\n        });\r\n        setVerificationResult(result);\r\n      } else {\r\n        // Mode hors-ligne - v√©rifier localement\r\n        const localTickets = JSON.parse(\r\n          localStorage.getItem(\"tickets\") || \"[]\"\r\n        );\r\n        const ticket = localTickets.find(\r\n          (t) =>\r\n            t.id === scannedTicket ||\r\n            t.qrCode === scannedTicket ||\r\n            t.codeUnique === scannedTicket\r\n        );\r\n\r\n        if (ticket) {\r\n          if (ticket.statut === \"confirmed\") {\r\n            setVerificationResult({\r\n              valid: true,\r\n              ticket: {\r\n                id: ticket.id,\r\n                nombreBillets: ticket.nombreBillets,\r\n                prixTotal: ticket.prixTotal,\r\n                typePaiement: ticket.typePaiement,\r\n              },\r\n              message: `Ticket valide - ${ticket.nombreBillets} personne(s) - Acc√®s autoris√©`,\r\n            });\r\n          } else {\r\n            setVerificationResult({\r\n              valid: false,\r\n              ticket,\r\n              message: `Ticket non confirm√© - Statut: ${ticket.statut}`,\r\n            });\r\n          }\r\n        } else {\r\n          setVerificationResult({\r\n            valid: false,\r\n            message: \"Ticket introuvable\",\r\n          });\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Erreur v√©rification ticket:\", err);\r\n      setError(`Erreur v√©rification: ${err.message}`);\r\n    }\r\n\r\n    setScannedTicket(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadStats();\r\n  }, [isOnline, apiWorking]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw\r\n            className=\"animate-spin mx-auto mb-4 text-blue-600\"\r\n            size={48}\r\n          />\r\n          <p>Chargement du dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-4\">\r\n      {/* Alerte de connectivit√© */}\r\n      {(!isOnline || !apiWorking) && (\r\n        <div\r\n          className={`fixed top-0 left-0 right-0 z-50 p-2 text-center text-sm text-white ${\r\n            !isOnline ? \"bg-red-500\" : \"bg-orange-500\"\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center justify-center space-x-2\">\r\n            {!isOnline ? <WifiOff size={16} /> : <AlertTriangle size={16} />}\r\n            <span>\r\n              {!isOnline ? \"Mode hors-ligne\" : \"API non disponible\"} - Donn√©es\r\n              locales uniquement\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"max-w-6xl mx-auto mt-8\">\r\n        {/* En-t√™te */}\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">\r\n                Admin Dashboard\r\n              </h1>\r\n              <div className=\"flex items-center space-x-2 mt-2\">\r\n                {isOnline && apiWorking ? (\r\n                  <>\r\n                    <Wifi size={16} className=\"text-green-600\" />\r\n                    <span className=\"text-sm text-green-600\">En ligne</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <WifiOff size={16} className=\"text-orange-600\" />\r\n                    <span className=\"text-sm text-orange-600\">Hors-ligne</span>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={loadStats}\r\n                className=\"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\r\n              >\r\n                <RefreshCw size={16} />\r\n                <span>Actualiser</span>\r\n              </button>\r\n              <button\r\n                onClick={onBack}\r\n                className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\"\r\n              >\r\n                Retour Client\r\n              </button>\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\"\r\n              >\r\n                D√©connexion\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\r\n            <p className=\"text-red-600\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Statistiques */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n          <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Tickets confirm√©s</p>\r\n                <p className=\"text-3xl font-bold text-blue-600\">\r\n                  {stats.totalTickets?.count || 0}\r\n                </p>\r\n              </div>\r\n              <Users className=\"text-blue-600\" size={32} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Revenus totaux</p>\r\n                <p className=\"text-3xl font-bold text-green-600\">\r\n                  {(stats.totalRevenue?.total || 0).toLocaleString()} F\r\n                </p>\r\n              </div>\r\n              <TrendingUp className=\"text-green-600\" size={32} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">En attente</p>\r\n                <p className=\"text-3xl font-bold text-orange-600\">\r\n                  {stats.pendingTickets?.count || 0}\r\n                </p>\r\n              </div>\r\n              <Clock className=\"text-orange-600\" size={32} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Scanner d'entr√©e */}\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n          <h2 className=\"text-xl font-bold mb-4\">üé´ Contr√¥le d'acc√®s</h2>\r\n\r\n          <div className=\"flex space-x-4 mb-4\">\r\n            <input\r\n              type=\"text\"\r\n              value={scannedTicket}\r\n              onChange={(e) => setScannedTicket(e.target.value)}\r\n              placeholder=\"Scanner ou saisir l'ID du ticket...\"\r\n              className=\"flex-1 p-3 border border-gray-300 rounded-lg\"\r\n              onKeyPress={(e) => e.key === \"Enter\" && verifyTicketForEntry()}\r\n            />\r\n            <button\r\n              onClick={verifyTicketForEntry}\r\n              className=\"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center space-x-2\"\r\n            >\r\n              <Scan size={20} />\r\n              <span>V√©rifier</span>\r\n            </button>\r\n          </div>\r\n\r\n          {verificationResult && (\r\n            <div\r\n              className={`p-4 rounded-lg border ${\r\n                verificationResult.valid\r\n                  ? \"bg-green-50 border-green-200\"\r\n                  : \"bg-red-50 border-red-200\"\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center space-x-2 mb-2\">\r\n                {verificationResult.valid ? (\r\n                  <CheckCircle className=\"text-green-600\" size={20} />\r\n                ) : (\r\n                  <XCircle className=\"text-red-600\" size={20} />\r\n                )}\r\n                <span\r\n                  className={`font-semibold ${\r\n                    verificationResult.valid ? \"text-green-600\" : \"text-red-600\"\r\n                  }`}\r\n                >\r\n                  {verificationResult.message}\r\n                </span>\r\n              </div>\r\n\r\n              {verificationResult.valid && verificationResult.ticket && (\r\n                <div className=\"text-sm text-gray-600 space-y-1\">\r\n                  <p>‚Ä¢ ID: {verificationResult.ticket.id}</p>\r\n                  <p>‚Ä¢ Personnes: {verificationResult.ticket.nombreBillets}</p>\r\n                  <p>\r\n                    ‚Ä¢ Montant:{\" \"}\r\n                    {verificationResult.ticket.prixTotal?.toLocaleString()} FCFA\r\n                  </p>\r\n                  <p>‚Ä¢ Paiement: {verificationResult.ticket.typePaiement}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Tickets en attente */}\r\n        {Array.isArray(stats.ticketsPending) &&\r\n          stats.ticketsPending.length > 0 && (\r\n            <div className=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n              <h2 className=\"text-xl font-bold mb-4\">\r\n                ‚è≥ Tickets en attente ({stats.ticketsPending.length})\r\n              </h2>\r\n\r\n              <div className=\"space-y-4\">\r\n                {stats.ticketsPending.map((ticket) => (\r\n                  <div\r\n                    key={ticket.id}\r\n                    className=\"border border-orange-200 rounded-lg p-4 bg-orange-50\"\r\n                  >\r\n                    <div className=\"flex justify-between items-start\">\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"font-mono text-sm text-gray-600\">\r\n                          {ticket.id}\r\n                        </p>\r\n                        <p className=\"font-semibold\">\r\n                          {ticket.nombre_billets || ticket.nombreBillets}{\" \"}\r\n                          billet(s) -{\" \"}\r\n                          {(\r\n                            ticket.prix_total || ticket.prixTotal\r\n                          )?.toLocaleString()}{\" \"}\r\n                          FCFA\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600\">\r\n                          Paiement:{\" \"}\r\n                          {ticket.type_paiement || ticket.typePaiement}\r\n                          {(ticket.code_promo || ticket.codePromo) &&\r\n                            ` ‚Ä¢ Code: ${ticket.code_promo || ticket.codePromo}`}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500\">\r\n                          Cr√©√©:{\" \"}\r\n                          {new Date(\r\n                            ticket.date_creation || ticket.dateCreation\r\n                          ).toLocaleString(\"fr-FR\")}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"flex space-x-2\">\r\n                        <button\r\n                          onClick={() => validateTicket(ticket.id, \"approve\")}\r\n                          className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-1\"\r\n                        >\r\n                          <CheckCircle size={16} />\r\n                          <span>Approuver</span>\r\n                        </button>\r\n                        <button\r\n                          onClick={() => validateTicket(ticket.id, \"reject\")}\r\n                          className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-1\"\r\n                        >\r\n                          <XCircle size={16} />\r\n                          <span>Rejeter</span>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n        {/* Tickets r√©cents */}\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-4\">\r\n            ‚úÖ Tickets r√©cents confirm√©s\r\n          </h2>\r\n\r\n          {!Array.isArray(stats.ticketsRecent) ||\r\n          stats.ticketsRecent.length === 0 ? (\r\n            <p className=\"text-gray-500 text-center py-8\">\r\n              Aucun ticket confirm√©\r\n            </p>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {stats.ticketsRecent.map((ticket) => (\r\n                <div\r\n                  key={ticket.id}\r\n                  className=\"border border-green-200 rounded-lg p-3 bg-green-50\"\r\n                >\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <div>\r\n                      <p className=\"font-mono text-sm text-gray-600\">\r\n                        {ticket.id}\r\n                      </p>\r\n                      <p className=\"text-sm\">\r\n                        {ticket.nombre_billets || ticket.nombreBillets}{\" \"}\r\n                        billet(s) -{\" \"}\r\n                        {(\r\n                          ticket.prix_total || ticket.prixTotal\r\n                        )?.toLocaleString()}{\" \"}\r\n                        FCFA\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      {ticket.date_validation || ticket.dateValidation\r\n                        ? new Date(\r\n                            ticket.date_validation || ticket.dateValidation\r\n                          ).toLocaleString(\"fr-FR\")\r\n                        : \"Date non disponible\"}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","// src/components/TicketHistory.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Download, Clock, CheckCircle, XCircle, RefreshCw } from \"lucide-react\";\r\nimport { localTicketService, ticketService } from \"../services/api\";\r\n\r\nconst TicketHistory = ({ onBack }) => {\r\n  const [tickets, setTickets] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const loadTickets = () => {\r\n    const history = localTicketService.getTicketHistory();\r\n    history.forEach((ticket) => {\r\n      ticketService.getTicketById(ticket.id).then((response) => {\r\n        const updatedTicket = { ...ticket, ...response };\r\n        localTicketService.saveTicketToHistory(updatedTicket);\r\n      });\r\n    });\r\n    const updatedHistory = localTicketService.getTicketHistory();\r\n    setTickets(\r\n      updatedHistory.sort(\r\n        (a, b) => new Date(b.dateCreation) - new Date(a.dateCreation)\r\n      )\r\n    );\r\n\r\n    setLoading(false);\r\n    console.log(\"history\", history);\r\n    console.log(\"updatedHistory\", updatedHistory);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadTickets();\r\n  }, []);\r\n\r\n  const downloadTicket = (ticket) => {\r\n    // √Ä impl√©menter - g√©n√©ration PDF\r\n    console.log(\"T√©l√©charger ticket:\", ticket);\r\n    alert(\"Fonctionnalit√© de t√©l√©chargement PDF √† impl√©menter\");\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case \"confirmed\":\r\n        return <CheckCircle className=\"text-green-600\" size={16} />;\r\n      case \"rejected\":\r\n        return <XCircle className=\"text-red-600\" size={16} />;\r\n      default:\r\n        return <Clock className=\"text-orange-600\" size={16} />;\r\n    }\r\n  };\r\n\r\n  const getStatusText = (status) => {\r\n    switch (status) {\r\n      case \"confirmed\":\r\n        return \"Confirm√©\";\r\n      case \"rejected\":\r\n        return \"Rejet√©\";\r\n      default:\r\n        return \"En attente\";\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <RefreshCw className=\"animate-spin text-blue-600\" size={32} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-4\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h1 className=\"text-2xl font-bold\">Mes Tickets</h1>\r\n            <button\r\n              onClick={onBack}\r\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600\"\r\n            >\r\n              Retour\r\n            </button>\r\n          </div>\r\n\r\n          {tickets.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <p className=\"text-gray-500\">\r\n                Aucun ticket dans votre historique\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {tickets.map((ticket) => (\r\n                <div\r\n                  key={ticket.id}\r\n                  className=\"border border-gray-200 rounded-lg p-4\"\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center space-x-2 mb-2\">\r\n                        {getStatusIcon(ticket.statut)}\r\n                        <span\r\n                          className={`font-semibold ${\r\n                            ticket.statut === \"confirmed\"\r\n                              ? \"text-green-600\"\r\n                              : ticket.statut === \"rejected\"\r\n                              ? \"text-red-600\"\r\n                              : \"text-orange-600\"\r\n                          }`}\r\n                        >\r\n                          {getStatusText(ticket.statut)}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <p className=\"font-mono text-sm text-gray-600 mb-1\">\r\n                        ID: {ticket.id}\r\n                      </p>\r\n                      <p className=\"font-semibold\">\r\n                        {ticket.nombreBillets} billet(s) -{\" \"}\r\n                        {ticket.prixTotal?.toLocaleString()} FCFA\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Paiement: {ticket.typePaiement}\r\n                        {ticket.codePromo && ` ‚Ä¢ Code: ${ticket.codePromo}`}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        Cr√©√© le:{\" \"}\r\n                        {new Date(ticket.dateCreation).toLocaleString(\"fr-FR\")}\r\n                      </p>\r\n                    </div>\r\n\r\n                    <div className=\"flex space-x-2\">\r\n                      {ticket.statut === \"confirmed\" && (\r\n                        <button\r\n                          onClick={() => downloadTicket(ticket)}\r\n                          className=\"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\r\n                          title=\"T√©l√©charger PDF\"\r\n                        >\r\n                          <Download size={16} />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketHistory;\r\n","// src/components/TicketController.jsx\r\nimport React, { useState } from \"react\";\r\nimport { Scan, CheckCircle, XCircle, ArrowLeft } from \"lucide-react\";\r\nimport { ticketService } from \"../services/api\";\r\n\r\nconst TicketController = ({ onBack }) => {\r\n  const [scannedCode, setScannedCode] = useState(\"\");\r\n  const [verificationResult, setVerificationResult] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const verifyTicket = async () => {\r\n    if (!scannedCode.trim()) return;\r\n\r\n    setLoading(true);\r\n    setVerificationResult(null);\r\n\r\n    try {\r\n      const result = await ticketService.verifyTicket({\r\n        // qrCode: scannedCode,\r\n        ticketId: scannedCode,\r\n      });\r\n\r\n      setVerificationResult(result);\r\n    } catch (error) {\r\n      setVerificationResult({\r\n        valid: false,\r\n        message: \"Erreur de v√©rification: \" + error.message,\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-4\">\r\n      <div className=\"max-w-md mx-auto\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h1 className=\"text-xl font-bold\">Contr√¥le d'acc√®s</h1>\r\n            <button\r\n              onClick={onBack}\r\n              className=\"flex items-center space-x-1 text-blue-500 hover:text-blue-600\"\r\n            >\r\n              <ArrowLeft size={16} />\r\n              <span>Retour</span>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">\r\n                Scanner un QR code ou saisir l'ID\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={scannedCode}\r\n                onChange={(e) => setScannedCode(e.target.value)}\r\n                placeholder=\"Scanner ou coller le code...\"\r\n                className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                onKeyPress={(e) => e.key === \"Enter\" && verifyTicket()}\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              onClick={verifyTicket}\r\n              disabled={loading || !scannedCode.trim()}\r\n              className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\r\n            >\r\n              {loading ? (\r\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\r\n              ) : (\r\n                <Scan size={20} />\r\n              )}\r\n              <span>{loading ? \"V√©rification...\" : \"V√©rifier le ticket\"}</span>\r\n            </button>\r\n\r\n            {verificationResult && (\r\n              <div\r\n                className={`p-4 rounded-lg border ${\r\n                  verificationResult.valid\r\n                    ? \"bg-green-50 border-green-200\"\r\n                    : \"bg-red-50 border-red-200\"\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center space-x-2 mb-2\">\r\n                  {verificationResult.valid ? (\r\n                    <CheckCircle className=\"text-green-600\" size={20} />\r\n                  ) : (\r\n                    <XCircle className=\"text-red-600\" size={20} />\r\n                  )}\r\n                  <span\r\n                    className={`font-semibold ${\r\n                      verificationResult.valid\r\n                        ? \"text-green-600\"\r\n                        : \"text-red-600\"\r\n                    }`}\r\n                  >\r\n                    {verificationResult.message}\r\n                  </span>\r\n                </div>\r\n\r\n                {verificationResult.valid && verificationResult.ticket && (\r\n                  <div className=\"text-sm text-gray-600 space-y-1\">\r\n                    <p>‚Ä¢ ID: {verificationResult.ticket.id}</p>\r\n                    <p>\r\n                      ‚Ä¢ Personnes: {verificationResult.ticket.nombreBillets}\r\n                    </p>\r\n                    <p>\r\n                      ‚Ä¢ Montant:{\" \"}\r\n                      {verificationResult.ticket.prixTotal?.toLocaleString()}{\" \"}\r\n                      FCFA\r\n                    </p>\r\n                    <p>‚Ä¢ Paiement: {verificationResult.ticket.typePaiement}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\r\n            <h3 className=\"font-semibold mb-2\">Instructions:</h3>\r\n            <ul className=\"text-sm text-blue-700 space-y-1\">\r\n              <li>‚Ä¢ Scanner le QR code du ticket</li>\r\n              <li>‚Ä¢ Ou saisir manuellement l'ID du ticket</li>\r\n              <li>‚Ä¢ Appuyer sur Entr√©e ou le bouton \"V√©rifier\"</li>\r\n              <li>‚Ä¢ Autoriser l'acc√®s si le ticket est valide</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketController;\r\n","// src/components/AdminLogin.jsx\r\nimport React, { useState } from \"react\";\r\nimport { Lock, ArrowLeft } from \"lucide-react\";\r\n\r\nconst AdminLogin = ({ onLogin, onBack }) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // V√©rification simple - √† remplacer par une v√©rification plus s√©curis√©e\r\n    if (username === \"admin\" && password === \"admin123\") {\r\n      localStorage.setItem(\"adminAuthenticated\", \"true\");\r\n      onLogin();\r\n    } else {\r\n      setError(\"Identifiants incorrects\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white rounded-xl shadow-lg p-6 w-full max-w-md\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"text-xl font-bold\">Connexion Admin</h2>\r\n          <button\r\n            onClick={onBack}\r\n            className=\"flex items-center space-x-1 text-blue-500 hover:text-blue-600\"\r\n          >\r\n            <ArrowLeft size={16} />\r\n            <span>Retour</span>\r\n          </button>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n            <p className=\"text-red-600 text-sm\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">\r\n              Nom d'utilisateur\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">\r\n              Mot de passe\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600\"\r\n          >\r\n            <div className=\"flex items-center justify-center space-x-2\">\r\n              <Lock size={16} />\r\n              <span>Se connecter</span>\r\n            </div>\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLogin;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  QrCode,\r\n  Scan,\r\n  CreditCard,\r\n  Smartphone,\r\n  Banknote,\r\n  Check,\r\n  X,\r\n  Users,\r\n  TrendingUp,\r\n  Wifi,\r\n  WifiOff,\r\n  AlertTriangle,\r\n} from \"lucide-react\";\r\n\r\n// Import des services API et composants\r\nimport {\r\n  eventService,\r\n  promoService,\r\n  ticketService,\r\n  paymentService,\r\n  apiUtils,\r\n  localTicketService,\r\n} from \"./services/api\";\r\n\r\nimport AdminDashboard from \"./components/AdminDashboard\";\r\nimport TicketHistory from \"./components/TicketHistory\";\r\nimport TicketController from \"./components/TicketController\";\r\nimport AdminLogin from \"./components/AdminLogin\";\r\n\r\n// Hook pour gestion du localStorage avec fallback\r\nconst useLocalStorage = (key, initialValue) => {\r\n  const [value, setValue] = useState(() => {\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch {\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  const setStoredValue = (newValue) => {\r\n    setValue(newValue);\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(newValue));\r\n    } catch (error) {\r\n      console.error(\"Erreur localStorage:\", error);\r\n    }\r\n  };\r\n\r\n  return [value, setStoredValue];\r\n};\r\n\r\n// Hook pour v√©rifier la connectivit√©\r\nconst useOnlineStatus = () => {\r\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\r\n\r\n  useEffect(() => {\r\n    const handleOnline = () => setIsOnline(true);\r\n    const handleOffline = () => setIsOnline(false);\r\n\r\n    window.addEventListener(\"online\", handleOnline);\r\n    window.addEventListener(\"offline\", handleOffline);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"online\", handleOnline);\r\n      window.removeEventListener(\"offline\", handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  return isOnline;\r\n};\r\n\r\n// Composant d'alerte de connectivit√©\r\nconst ConnectivityAlert = ({ isOnline, apiWorking }) => {\r\n  if (isOnline && apiWorking) return null;\r\n\r\n  return (\r\n    <div\r\n      className={`fixed top-0 left-0 right-0 z-50 p-2 text-center text-sm text-white ${\r\n        !isOnline ? \"bg-red-500\" : \"bg-orange-500\"\r\n      }`}\r\n    >\r\n      {!isOnline ? (\r\n        <div className=\"flex items-center justify-center space-x-2\">\r\n          <WifiOff size={16} />\r\n          <span>Mode hors-ligne - Fonctionnalit√©s limit√©es</span>\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex items-center justify-center space-x-2\">\r\n          <AlertTriangle size={16} />\r\n          <span>Probl√®me de connexion API - Utilisation du cache local</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Composant principal\r\nexport default function TicketingApp() {\r\n  // √âtats principaux\r\n  const [currentView, setCurrentView] = useState(\"qr-scan\");\r\n  const [selectedTickets, setSelectedTickets] = useState(1);\r\n  const [promoCode, setPromoCode] = useState(\"\");\r\n  const [promoDiscount, setPromoDiscount] = useState(0);\r\n  const [paymentMethod, setPaymentMethod] = useState(\"\");\r\n  const [currentTicket, setCurrentTicket] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // √âtats pour les donn√©es\r\n  const [events, setEvents] = useState([]);\r\n  const [currentEvent, setCurrentEvent] = useState(null);\r\n\r\n  // √âtats pour la connectivit√©\r\n  const isOnline = useOnlineStatus();\r\n  const [apiWorking, setApiWorking] = useState(true);\r\n\r\n  //Authentification\r\n  const [adminAuthenticated, setAdminAuthenticated] = useState(false);\r\n  const [showAdminLogin, setShowAdminLogin] = useState(false);\r\n\r\n  //History\r\n  const [showTicketHistory, setShowTicketHistory] = useState(false);\r\n  const [showTicketController, setShowTicketController] = useState(false);\r\n\r\n  // Cache local pour mode hors-ligne\r\n  const [localTickets, setLocalTickets] = useLocalStorage(\"tickets\", []);\r\n\r\n  // Codes promo par d√©faut (fallback)\r\n  const defaultPromoCodes = {\r\n    NOEL2024: { reduction: 10, actif: true },\r\n    FAMILLE: { reduction: 15, minBillets: 4, actif: true },\r\n    EARLY: { reduction: 20, actif: true },\r\n  };\r\n\r\n  // Fonction de v√©rification d'authentification au chargement\r\n  useEffect(() => {\r\n    const isAuthenticated =\r\n      localStorage.getItem(\"adminAuthenticated\") === \"true\";\r\n    setAdminAuthenticated(isAuthenticated);\r\n  }, []);\r\n\r\n  // Charger les √©v√©nements au d√©marrage\r\n  useEffect(() => {\r\n    loadEvents();\r\n    testAPIConnection();\r\n  }, []);\r\n\r\n  // Test de connectivit√© API\r\n  const testAPIConnection = async () => {\r\n    try {\r\n      const result = await apiUtils.testConnection();\r\n      setApiWorking(result.success);\r\n      if (!result.success) {\r\n        console.warn(\"API non accessible, utilisation du cache local\");\r\n      }\r\n    } catch (error) {\r\n      setApiWorking(false);\r\n      console.error(\"Test API failed:\", error);\r\n    }\r\n  };\r\n\r\n  // Charger les √©v√©nements\r\n  const loadEvents = async () => {\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        const eventsData = await eventService.getEvents();\r\n        setEvents(eventsData);\r\n        setCurrentEvent(eventsData[0] || null);\r\n\r\n        // Sauvegarder en cache\r\n        localStorage.setItem(\"cached_events\", JSON.stringify(eventsData));\r\n      } else {\r\n        // Utiliser le cache\r\n        const cachedEvents = JSON.parse(\r\n          localStorage.getItem(\"cached_events\") || \"[]\"\r\n        );\r\n        if (cachedEvents.length > 0) {\r\n          setEvents(cachedEvents);\r\n          setCurrentEvent(cachedEvents[0]);\r\n        } else {\r\n          // √âv√©nement par d√©faut\r\n          const defaultEvent = {\r\n            id: 1,\r\n            nom: \"Village de No√´l KIDS EVENTS\",\r\n            prix_unitaire: 5000,\r\n            stock_restant: 200,\r\n            date_event: \"2024-12-25\",\r\n          };\r\n          setEvents([defaultEvent]);\r\n          setCurrentEvent(defaultEvent);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur chargement √©v√©nements:\", error);\r\n      setError(\"Erreur lors du chargement des √©v√©nements\");\r\n    }\r\n  };\r\n\r\n  // Validation code promo\r\n  const validatePromoCode = async () => {\r\n    if (!promoCode.trim()) {\r\n      setError(\"Veuillez entrer un code promo\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        // Utiliser l'API\r\n        const result = await promoService.validatePromo(\r\n          promoCode.toUpperCase(),\r\n          selectedTickets\r\n        );\r\n        setPromoDiscount(result.pourcentage);\r\n        alert(`‚úÖ Code appliqu√© ! R√©duction de ${result.pourcentage}%`);\r\n      } else {\r\n        // Utiliser les codes par d√©faut\r\n        const code = defaultPromoCodes[promoCode.toUpperCase()];\r\n        if (code && code.actif) {\r\n          if (code.minBillets && selectedTickets < code.minBillets) {\r\n            setError(`Ce code n√©cessite minimum ${code.minBillets} billets`);\r\n            return;\r\n          }\r\n          setPromoDiscount(code.reduction);\r\n          alert(`‚úÖ Code appliqu√© ! R√©duction de ${code.reduction}%`);\r\n        } else {\r\n          setError(\"Code promo invalide\");\r\n          setPromoCode(\"\");\r\n          setPromoDiscount(0);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur validation promo:\", error);\r\n      setError(error.response?.data?.error || \"Erreur validation code promo\");\r\n      setPromoCode(\"\");\r\n      setPromoDiscount(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Calculer le prix total\r\n  const calculateTotalPrice = () => {\r\n    if (!currentEvent) return 0;\r\n    const basePrice = currentEvent.prix_unitaire || 5000;\r\n    return (basePrice * selectedTickets * (100 - promoDiscount)) / 100;\r\n  };\r\n\r\n  // G√©n√©rer un ticket\r\n  const generateTicket = async (paymentType, additionalData = {}) => {\r\n    if (!currentEvent) {\r\n      throw new Error(\"Aucun √©v√©nement s√©lectionn√©\");\r\n    }\r\n\r\n    const ticketData = {\r\n      eventId: currentEvent.id,\r\n      nombreBillets: selectedTickets,\r\n      typePaiement: paymentType,\r\n      codePromo: promoCode || null,\r\n      prixUnitaire: currentEvent.prix_unitaire || 5000,\r\n      ...additionalData,\r\n    };\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        // Utiliser l'API\r\n        const result = await ticketService.createTicket(ticketData);\r\n\r\n        const ticket = {\r\n          id: result.ticketId,\r\n          codeUnique: result.codeUnique,\r\n          qrCode: result.qrCode,\r\n          prixTotal: result.prixTotal,\r\n          reduction: result.reduction,\r\n          statut: result.statut,\r\n          eventId: currentEvent.id,\r\n          nombreBillets: selectedTickets,\r\n          typePaiement: paymentType,\r\n          codePromo: promoCode,\r\n          dateCreation: new Date().toISOString(),\r\n        };\r\n\r\n        // Ajouter le ticket √† la liste des tickets\r\n        // setTickets((prevTickets) => [...prevTickets, ticket]);\r\n\r\n        // Sauvegarder en cache\r\n        const cachedTickets = JSON.parse(\r\n          localStorage.getItem(\"tickets\") || \"[]\"\r\n        );\r\n        localStorage.setItem(\r\n          \"tickets\",\r\n          JSON.stringify([...cachedTickets, ticket])\r\n        );\r\n        localTicketService.saveTicketToHistory(ticket);\r\n        return {\r\n          id: result.ticketId,\r\n          codeUnique: result.codeUnique,\r\n          qrCode: result.qrCode,\r\n          prixTotal: result.prixTotal,\r\n          reduction: result.reduction,\r\n          statut: result.statut,\r\n          eventId: currentEvent.id,\r\n          nombreBillets: selectedTickets,\r\n          typePaiement: paymentType,\r\n          codePromo: promoCode,\r\n          dateCreation: new Date().toISOString(),\r\n        };\r\n      } else {\r\n        // Mode hors-ligne - g√©n√©rer localement\r\n        const ticket = {\r\n          id: `OFFLINE_TICKET_${Date.now()}`,\r\n          codeUnique: `${currentEvent.id}-${Date.now()}-${Math.random()\r\n            .toString(36)\r\n            .substr(2, 9)}`,\r\n          qrCode: `QR_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n          prixTotal: calculateTotalPrice(),\r\n          reduction: promoDiscount,\r\n          statut: paymentType === \"mobile-money\" ? \"confirmed\" : \"pending\",\r\n          eventId: currentEvent.id,\r\n          nombreBillets: selectedTickets,\r\n          typePaiement: paymentType,\r\n          codePromo: promoCode,\r\n          dateCreation: new Date().toISOString(),\r\n          isOffline: true,\r\n        };\r\n\r\n        // Sauvegarder localement\r\n        const newTickets = [...localTickets, ticket];\r\n        setLocalTickets(newTickets);\r\n\r\n        localTicketService.saveTicketToHistory(ticket);\r\n\r\n        return ticket;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur g√©n√©ration ticket:\", error);\r\n      throw new Error(\r\n        error.response?.data?.error || \"Erreur lors de la g√©n√©ration du ticket\"\r\n      );\r\n    }\r\n  };\r\n\r\n  // Simulation paiement Mobile Money\r\n  const simulateMobileMoneyPayment = async (provider) => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        // Utiliser l'API pour la simulation\r\n        const paymentData = {\r\n          provider,\r\n          montant: calculateTotalPrice(),\r\n          numero: `${\r\n            provider === \"MTN\" ? \"70\" : provider === \"MOOV\" ? \"96\" : \"90\"\r\n          }123456`,\r\n        };\r\n\r\n        const paymentResult = await paymentService.simulateMobileMoneyPayment(\r\n          paymentData\r\n        );\r\n\r\n        if (paymentResult.success) {\r\n          const ticket = await generateTicket(\"mobile-money\", {\r\n            mobileMoneyProvider: provider,\r\n            transactionId: paymentResult.transactionId,\r\n          });\r\n\r\n          setCurrentTicket(ticket);\r\n          setCurrentView(\"ticket-generated\");\r\n        } else {\r\n          throw new Error(paymentResult.message || \"√âchec du paiement\");\r\n        }\r\n      } else {\r\n        // Simulation hors-ligne\r\n        setTimeout(async () => {\r\n          try {\r\n            const ticket = await generateTicket(\"mobile-money\");\r\n            setCurrentTicket(ticket);\r\n            setCurrentView(\"ticket-generated\");\r\n          } catch (error) {\r\n            setError(error.message);\r\n          } finally {\r\n            setLoading(false);\r\n          }\r\n        }, 2000);\r\n        return; // Sort de la fonction pour √©viter le setLoading(false) en bas\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur paiement Mobile Money:\", error);\r\n      setError(error.message || \"Erreur lors du paiement\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // R√©initialiser le formulaire\r\n  const resetForm = () => {\r\n    setSelectedTickets(1);\r\n    setPromoCode(\"\");\r\n    setPromoDiscount(0);\r\n    setCurrentTicket(null);\r\n    setError(\"\");\r\n    setPaymentMethod(\"\");\r\n  };\r\n\r\n  // Composant Scan QR\r\n  const QRScanView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-red-50 to-green-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <div className=\"bg-red-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n            <QrCode size={32} />\r\n          </div>\r\n          <h1 className=\"text-xl font-bold text-gray-800 mb-2\">\r\n            Village de No√´l\r\n          </h1>\r\n          <h2 className=\"text-lg text-gray-600 mb-6\">KIDS EVENTS</h2>\r\n\r\n          {/* <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 mb-6\">\r\n            <Scan size={48} className=\"mx-auto text-gray-400 mb-2\" />\r\n            <p className=\"text-gray-500\">\r\n              Scannez le QR code pour acheter vos billets\r\n            </p>\r\n          </div> */}\r\n\r\n          {/* Indicateur de statut API */}\r\n          <div\r\n            className={`inline-flex items-center space-x-2 px-3 py-1 rounded-full text-xs mb-4 ${\r\n              isOnline && apiWorking\r\n                ? \"bg-green-100 text-green-800\"\r\n                : \"bg-orange-100 text-orange-800\"\r\n            }`}\r\n          >\r\n            {isOnline && apiWorking ? (\r\n              <Wifi size={12} />\r\n            ) : (\r\n              <WifiOff size={12} />\r\n            )}\r\n            <span>\r\n              {isOnline && apiWorking ? \"En ligne\" : \"Mode hors-ligne\"}\r\n            </span>\r\n          </div>\r\n\r\n          {showAdminLogin ? (\r\n            <AdminLogin\r\n              onLogin={() => {\r\n                setAdminAuthenticated(true);\r\n                setShowAdminLogin(false);\r\n                setCurrentView(\"admin\");\r\n              }}\r\n              onBack={() => setShowAdminLogin(false)}\r\n            />\r\n          ) : showTicketHistory ? (\r\n            <TicketHistory onBack={() => setShowTicketHistory(false)} />\r\n          ) : showTicketController ? (\r\n            <TicketController onBack={() => setShowTicketController(false)} />\r\n          ) : (\r\n            <>\r\n              <button\r\n                onClick={() => setCurrentView(\"ticket-selection\")}\r\n                className=\"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition-colors mb-4\"\r\n              >\r\n                Acheter des billets\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => setShowTicketHistory(true)}\r\n                className=\"w-full bg-purple-500 text-white py-2 rounded-lg font-semibold hover:bg-purple-600 transition-colors\"\r\n              >\r\n                Mes Tickets\r\n              </button>\r\n\r\n              <button\r\n                onClick={() => setShowTicketController(true)}\r\n                className=\"w-full bg-orange-500 text-white py-2 rounded-lg font-semibold hover:bg-orange-600 transition-colors\"\r\n              >\r\n                Contr√¥le d'acc√®s\r\n              </button>\r\n\r\n              {adminAuthenticated ? (\r\n                <button\r\n                  onClick={() => setCurrentView(\"admin\")}\r\n                  className=\"w-full bg-blue-500 text-white py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors\"\r\n                >\r\n                  Acc√®s Admin\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={() => setShowAdminLogin(true)}\r\n                  className=\"w-full bg-blue-500 text-white py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors\"\r\n                >\r\n                  Connexion Admin\r\n                </button>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant S√©lection Billets\r\n  const TicketSelectionView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-green-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6 text-center\">\r\n            S√©lection des billets\r\n          </h2>\r\n\r\n          {currentEvent && (\r\n            <div className=\"mb-4 p-3 bg-blue-50 rounded-lg\">\r\n              <h3 className=\"font-semibold text-blue-900\">\r\n                {currentEvent.nom}\r\n              </h3>\r\n              <p className=\"text-sm text-blue-700\">\r\n                Prix: {currentEvent.prix_unitaire?.toLocaleString()} FCFA\r\n              </p>\r\n              {currentEvent.stock_restant && (\r\n                <p className=\"text-xs text-blue-600\">\r\n                  Stock disponible: {currentEvent.stock_restant}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n              <p className=\"text-red-600 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium mb-2\">\r\n              Nombre de billets\r\n            </label>\r\n            <div className=\"flex items-center justify-center space-x-4\">\r\n              <button\r\n                onClick={() => {\r\n                  setSelectedTickets(Math.max(1, selectedTickets - 1));\r\n                  setError(\"\");\r\n                }}\r\n                className=\"w-12 h-12 bg-red-500 text-white rounded-full flex items-center justify-center text-xl font-bold\"\r\n              >\r\n                -\r\n              </button>\r\n              <span className=\"text-2xl font-bold w-8 text-center\">\r\n                {selectedTickets}\r\n              </span>\r\n              <button\r\n                onClick={() => {\r\n                  setSelectedTickets(selectedTickets + 1);\r\n                  setError(\"\");\r\n                }}\r\n                className=\"w-12 h-12 bg-green-500 text-white rounded-full flex items-center justify-center text-xl font-bold\"\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium mb-2\">\r\n              Code de r√©duction (optionnel)\r\n            </label>\r\n            <div className=\"flex space-x-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={promoCode}\r\n                onChange={(e) => {\r\n                  setPromoCode(e.target.value.toUpperCase());\r\n                  setError(\"\");\r\n                }}\r\n                placeholder=\"NOEL2024\"\r\n                className=\"flex-1 p-3 border border-gray-300 rounded-lg\"\r\n                disabled={loading}\r\n              />\r\n              <button\r\n                onClick={validatePromoCode}\r\n                disabled={loading || !promoCode.trim()}\r\n                className=\"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n              >\r\n                {loading ? \"...\" : \"Valider\"}\r\n              </button>\r\n            </div>\r\n            {promoDiscount > 0 && (\r\n              <p className=\"text-green-600 text-sm mt-2\">\r\n                ‚úÖ R√©duction de {promoDiscount}% appliqu√©e\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"bg-gray-50 p-4 rounded-lg mb-6\">\r\n            <div className=\"flex justify-between mb-2\">\r\n              <span>Prix unitaire:</span>\r\n              <span>\r\n                {currentEvent?.prix_unitaire?.toLocaleString() || \"5,000\"} FCFA\r\n              </span>\r\n            </div>\r\n            <div className=\"flex justify-between mb-2\">\r\n              <span>Quantit√©:</span>\r\n              <span>{selectedTickets}</span>\r\n            </div>\r\n            {promoDiscount > 0 && (\r\n              <div className=\"flex justify-between mb-2 text-green-600\">\r\n                <span>R√©duction ({promoDiscount}%):</span>\r\n                <span>\r\n                  -\r\n                  {(\r\n                    ((currentEvent?.prix_unitaire || 5000) *\r\n                      selectedTickets *\r\n                      promoDiscount) /\r\n                    100\r\n                  ).toLocaleString()}{\" \"}\r\n                  FCFA\r\n                </span>\r\n              </div>\r\n            )}\r\n            <hr className=\"my-2\" />\r\n            <div className=\"flex justify-between font-bold text-lg\">\r\n              <span>Total:</span>\r\n              <span>{calculateTotalPrice().toLocaleString()} FCFA</span>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={() => setCurrentView(\"payment-selection\")}\r\n            className=\"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition-colors\"\r\n          >\r\n            Continuer vers le paiement\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant S√©lection Paiement\r\n  const PaymentSelectionView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-red-50 to-green-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6 text-center\">\r\n            Mode de paiement\r\n          </h2>\r\n\r\n          <div className=\"space-y-4\">\r\n            <button\r\n              onClick={() => {\r\n                setPaymentMethod(\"cash\");\r\n                setCurrentView(\"cash-payment\");\r\n              }}\r\n              className=\"w-full p-4 border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 flex items-center space-x-4\"\r\n            >\r\n              <Banknote className=\"text-green-600\" size={24} />\r\n              <div className=\"text-left\">\r\n                <div className=\"font-semibold\">Esp√®ces (Cash)</div>\r\n                <div className=\"text-sm text-gray-500\">\r\n                  Paiement √† la caisse\r\n                </div>\r\n              </div>\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => {\r\n                setPaymentMethod(\"card\");\r\n                setCurrentView(\"card-payment\");\r\n              }}\r\n              className=\"w-full p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 flex items-center space-x-4\"\r\n            >\r\n              <CreditCard className=\"text-blue-600\" size={24} />\r\n              <div className=\"text-left\">\r\n                <div className=\"font-semibold\">Carte bancaire</div>\r\n                <div className=\"text-sm text-gray-500\">TPE √† l'accueil</div>\r\n              </div>\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => {\r\n                setPaymentMethod(\"mobile-money\");\r\n                setCurrentView(\"mobile-money-selection\");\r\n              }}\r\n              className=\"w-full p-4 border-2 border-gray-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 flex items-center space-x-4\"\r\n            >\r\n              <Smartphone className=\"text-orange-600\" size={24} />\r\n              <div className=\"text-left\">\r\n                <div className=\"font-semibold\">Mobile Money</div>\r\n                <div className=\"text-sm text-gray-500\">MTN, Moov, Togocom</div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-sm font-medium\">R√©capitulatif:</div>\r\n            <div className=\"text-lg font-bold\">\r\n              {calculateTotalPrice().toLocaleString()} FCFA\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Mobile Money\r\n  const MobileMoneyView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-orange-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6 text-center\">Mobile Money</h2>\r\n\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n              <p className=\"text-red-600 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {loading ? (\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4\"></div>\r\n              <p>Traitement du paiement en cours...</p>\r\n              <p className=\"text-sm text-gray-500 mt-2\">Veuillez patienter</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div\r\n                onClick={() => simulateMobileMoneyPayment(\"MTN\")}\r\n                className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-yellow-500 cursor-pointer transition-colors\"\r\n              >\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className=\"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center text-white font-bold\">\r\n                    MTN\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-semibold\">MTN Mobile Money</div>\r\n                    <div className=\"text-sm text-gray-500\">Composez *133#</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                onClick={() => simulateMobileMoneyPayment(\"MOOV\")}\r\n                className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 cursor-pointer transition-colors\"\r\n              >\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className=\"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold\">\r\n                    MOOV\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-semibold\">Moov Money</div>\r\n                    <div className=\"text-sm text-gray-500\">Composez *555#</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                onClick={() => simulateMobileMoneyPayment(\"TOGOCOM\")}\r\n                className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-green-500 cursor-pointer transition-colors\"\r\n              >\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className=\"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold\">\r\n                    TCEL\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-semibold\">Togocom</div>\r\n                    <div className=\"text-sm text-gray-500\">Composez *890#</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mt-6 p-4 bg-orange-50 rounded-lg\">\r\n            <div className=\"text-sm font-medium mb-2\">Montant √† payer:</div>\r\n            <div className=\"text-2xl font-bold text-orange-600\">\r\n              {calculateTotalPrice().toLocaleString()} FCFA\r\n            </div>\r\n          </div>\r\n\r\n          {!isOnline && (\r\n            <div className=\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n              <p className=\"text-yellow-800 text-sm\">\r\n                ‚ö†Ô∏è Mode hors-ligne: Le ticket sera g√©n√©r√© localement et devra\r\n                √™tre synchronis√© plus tard.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Paiement Cash\r\n  const CashPaymentView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-green-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <Banknote size={48} className=\"mx-auto text-green-600 mb-4\" />\r\n          <h2 className=\"text-xl font-bold mb-4\">Paiement en esp√®ces</h2>\r\n          <div className=\"bg-green-50 p-4 rounded-lg mb-6\">\r\n            <div className=\"text-lg font-semibold\">Montant √† payer:</div>\r\n            <div className=\"text-2xl font-bold text-green-600\">\r\n              {calculateTotalPrice().toLocaleString()} FCFA\r\n            </div>\r\n          </div>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Pr√©sentez-vous √† la caisse avec le montant exact. Votre ticket sera\r\n            g√©n√©r√© apr√®s validation du paiement par notre √©quipe.\r\n          </p>\r\n          <button\r\n            onClick={async () => {\r\n              try {\r\n                const ticket = await generateTicket(\"cash\");\r\n                setCurrentTicket(ticket);\r\n                setCurrentView(\"ticket-pending\");\r\n              } catch (error) {\r\n                setError(error.message);\r\n              }\r\n            }}\r\n            className=\"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600\"\r\n          >\r\n            Confirmer - Aller √† la caisse\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Paiement Carte\r\n  const CardPaymentView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-blue-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <CreditCard size={48} className=\"mx-auto text-blue-600 mb-4\" />\r\n          <h2 className=\"text-xl font-bold mb-4\">Paiement par carte</h2>\r\n          <div className=\"bg-blue-50 p-4 rounded-lg mb-6\">\r\n            <div className=\"text-lg font-semibold\">Montant √† payer:</div>\r\n            <div className=\"text-2xl font-bold text-blue-600\">\r\n              {calculateTotalPrice().toLocaleString()} FCFA\r\n            </div>\r\n          </div>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Dirigez-vous vers le TPE √† l'accueil pour effectuer votre paiement\r\n            par carte bancaire. Votre ticket sera g√©n√©r√© apr√®s validation.\r\n          </p>\r\n          <button\r\n            onClick={async () => {\r\n              try {\r\n                const ticket = await generateTicket(\"card\");\r\n                setCurrentTicket(ticket);\r\n                setCurrentView(\"ticket-pending\");\r\n              } catch (error) {\r\n                setError(error.message);\r\n              }\r\n            }}\r\n            className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600\"\r\n          >\r\n            Confirmer - Aller au TPE\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Ticket G√©n√©r√©\r\n  const TicketGeneratedView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-green-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <div className=\"bg-green-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n            <Check size={32} />\r\n          </div>\r\n\r\n          <h2 className=\"text-xl font-bold mb-4 text-green-600\">\r\n            Paiement confirm√© !\r\n          </h2>\r\n\r\n          {currentTicket && (\r\n            <div className=\"bg-gray-50 p-4 rounded-lg mb-6\">\r\n              <div className=\"border-2 border-gray-300 rounded-lg p-4 mb-4\">\r\n                <QrCode size={64} className=\"mx-auto mb-2\" />\r\n                <p className=\"text-xs text-gray-500 font-mono break-all\">\r\n                  {currentTicket.qrCode}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-2 text-sm\">\r\n                <div className=\"flex justify-between\">\r\n                  <span>ID Ticket:</span>\r\n                  <span className=\"font-mono text-xs\">{currentTicket.id}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Nombre de billets:</span>\r\n                  <span>{currentTicket.nombreBillets}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Prix total:</span>\r\n                  <span className=\"font-semibold\">\r\n                    {currentTicket.prixTotal.toLocaleString()} FCFA\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Mode de paiement:</span>\r\n                  <span className=\"capitalize\">\r\n                    {currentTicket.typePaiement.replace(\"-\", \" \")}\r\n                  </span>\r\n                </div>\r\n                {currentTicket.isOffline && (\r\n                  <div className=\"text-orange-600 text-xs mt-2\">\r\n                    ‚ö†Ô∏è Ticket cr√©√© hors-ligne - Synchronisation requise\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <p className=\"text-sm text-gray-600 mb-6\">\r\n            Pr√©sentez ce QR code √† l'entr√©e de l'√©v√©nement\r\n          </p>\r\n\r\n          <div className=\"space-y-3\">\r\n            <button\r\n              onClick={() => {\r\n                setCurrentView(\"qr-scan\");\r\n                resetForm();\r\n              }}\r\n              className=\"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600\"\r\n            >\r\n              Nouveau ticket\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setCurrentView(\"admin\")}\r\n              className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600\"\r\n            >\r\n              Acc√®s Admin\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Ticket En Attente\r\n  const TicketPendingView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-orange-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <div className=\"bg-orange-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-2 border-white border-t-transparent\"></div>\r\n          </div>\r\n          <h2 className=\"text-xl font-bold mb-4 text-orange-600\">\r\n            Paiement en attente\r\n          </h2>\r\n          {currentTicket && (\r\n            <div className=\"bg-gray-50 p-4 rounded-lg mb-6\">\r\n              <div className=\"text-sm font-medium mb-2\">Votre ticket:</div>\r\n              <div className=\"font-mono text-sm bg-white p-2 rounded break-all\">\r\n                {currentTicket.id}\r\n              </div>\r\n              <div className=\"mt-2 text-sm text-gray-600\">\r\n                {currentTicket.nombreBillets} billet(s) -{\" \"}\r\n                {currentTicket.prixTotal.toLocaleString()} FCFA\r\n              </div>\r\n              {currentTicket.isOffline && (\r\n                <div className=\"text-orange-600 text-xs mt-2\">\r\n                  ‚ö†Ô∏è Ticket cr√©√© hors-ligne\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Votre demande de ticket est enregistr√©e. Effectuez votre paiement et\r\n            attendez la validation de notre √©quipe.\r\n          </p>\r\n          <div className=\"space-y-3\">\r\n            <button\r\n              onClick={() => setCurrentView(\"admin\")}\r\n              className=\"w-full bg-orange-500 text-white py-3 rounded-lg font-semibold hover:bg-orange-600\"\r\n            >\r\n              V√©rifier le statut (Admin)\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setCurrentView(\"qr-scan\");\r\n                resetForm();\r\n              }}\r\n              className=\"w-full bg-gray-500 text-white py-3 rounded-lg font-semibold hover:bg-gray-600\"\r\n            >\r\n              Nouveau ticket\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Navigation entre les vues\r\n  const renderCurrentView = () => {\r\n    switch (currentView) {\r\n      case \"qr-scan\":\r\n        return <QRScanView />;\r\n      case \"ticket-selection\":\r\n        return <TicketSelectionView />;\r\n      case \"payment-selection\":\r\n        return <PaymentSelectionView />;\r\n      case \"cash-payment\":\r\n        return <CashPaymentView />;\r\n      case \"card-payment\":\r\n        return <CardPaymentView />;\r\n      case \"mobile-money-selection\":\r\n        return <MobileMoneyView />;\r\n      case \"ticket-generated\":\r\n        return <TicketGeneratedView />;\r\n      case \"ticket-pending\":\r\n        return <TicketPendingView />;\r\n      case \"admin\":\r\n        return (\r\n          <AdminDashboard\r\n            onBack={() => setCurrentView(\"qr-scan\")}\r\n            isOnline={isOnline}\r\n            apiWorking={apiWorking}\r\n          />\r\n        );\r\n      default:\r\n        return <QRScanView />;\r\n    }\r\n  };\r\n\r\n  return <div className=\"font-sans\">{renderCurrentView()}</div>;\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport App from \"./App.jsx\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.createRoot(document.getElementById(\"root\")).render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","children","rest","ref","createElement","tag","attrs","createLucideIcon$1","AlertTriangle","ArrowLeft","Banknote","CheckCircle","Check","Clock","CreditCard","Download","Lock","QrCode","RefreshCw","Scan","Smartphone","TrendingUp","Users","WifiOff","Wifi","XCircle","API_BASE_URL","api","axios","response","error","localTicketService","ticket","history","existingIndex","t","ticketId","status","updatedHistory","eventService","promoService","code","nombreBillets","ticketService","ticketData","action","verificationData","paymentService","paymentData","webhookData","adminService","apiUtils","AdminDashboard","onBack","isOnline","apiWorking","stats","setStats","useState","loading","setLoading","setError","scannedTicket","setScannedTicket","verificationResult","setVerificationResult","useEffect","handleLogout","loadStats","data","localTickets","localTransactions","confirmedTickets","pendingTickets","completedTransactions","sum","err","validateTicket","updatedTickets","updatedTransactions","transaction","verifyTicketForEntry","result","jsxs","jsx","Fragment","_a","_b","_c","_d","TicketHistory","tickets","setTickets","loadTickets","updatedTicket","downloadTicket","getStatusIcon","getStatusText","TicketController","scannedCode","setScannedCode","verifyTicket","AdminLogin","onLogin","username","setUsername","password","setPassword","handleSubmit","useLocalStorage","key","initialValue","value","setValue","item","newValue","useOnlineStatus","setIsOnline","handleOnline","handleOffline","ConnectivityAlert","TicketingApp","currentView","setCurrentView","selectedTickets","setSelectedTickets","promoCode","setPromoCode","promoDiscount","setPromoDiscount","paymentMethod","setPaymentMethod","currentTicket","setCurrentTicket","events","setEvents","currentEvent","setCurrentEvent","setApiWorking","adminAuthenticated","setAdminAuthenticated","showAdminLogin","setShowAdminLogin","showTicketHistory","setShowTicketHistory","showTicketController","setShowTicketController","setLocalTickets","defaultPromoCodes","isAuthenticated","loadEvents","testAPIConnection","eventsData","cachedEvents","defaultEvent","validatePromoCode","calculateTotalPrice","generateTicket","paymentType","additionalData","cachedTickets","newTickets","simulateMobileMoneyPayment","provider","paymentResult","resetForm","QRScanView","TicketSelectionView","PaymentSelectionView","MobileMoneyView","CashPaymentView","CardPaymentView","TicketGeneratedView","TicketPendingView","renderCurrentView","ReactDOM","React","App"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]}