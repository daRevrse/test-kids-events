{"version":3,"file":"index-9cbee4fc.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.mjs","../../node_modules/lucide-react/dist/esm/createLucideIcon.mjs","../../node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs","../../node_modules/lucide-react/dist/esm/icons/banknote.mjs","../../node_modules/lucide-react/dist/esm/icons/check-circle.mjs","../../node_modules/lucide-react/dist/esm/icons/check.mjs","../../node_modules/lucide-react/dist/esm/icons/clock.mjs","../../node_modules/lucide-react/dist/esm/icons/credit-card.mjs","../../node_modules/lucide-react/dist/esm/icons/qr-code.mjs","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs","../../node_modules/lucide-react/dist/esm/icons/scan.mjs","../../node_modules/lucide-react/dist/esm/icons/smartphone.mjs","../../node_modules/lucide-react/dist/esm/icons/trending-up.mjs","../../node_modules/lucide-react/dist/esm/icons/users.mjs","../../node_modules/lucide-react/dist/esm/icons/wifi-off.mjs","../../node_modules/lucide-react/dist/esm/icons/wifi.mjs","../../node_modules/lucide-react/dist/esm/icons/x-circle.mjs","../../src/services/api.js","../../src/components/AdminDashboard.jsx","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.mjs';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: `lucide lucide-${toKebabCase(iconName)}`,\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]) || []\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\nvar createLucideIcon$1 = createLucideIcon;\n\nexport { createLucideIcon$1 as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Banknote = createLucideIcon(\"Banknote\", [\n  [\n    \"rect\",\n    { width: \"20\", height: \"12\", x: \"2\", y: \"6\", rx: \"2\", key: \"9lu3g6\" }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }],\n  [\"path\", { d: \"M6 12h.01M18 12h.01\", key: \"113zkx\" }]\n]);\n\nexport { Banknote as default };\n//# sourceMappingURL=banknote.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst CheckCircle = createLucideIcon(\"CheckCircle\", [\n  [\"path\", { d: \"M22 11.08V12a10 10 0 1 1-5.93-9.14\", key: \"g774vq\" }],\n  [\"polyline\", { points: \"22 4 12 14.01 9 11.01\", key: \"6xbx8j\" }]\n]);\n\nexport { CheckCircle as default };\n//# sourceMappingURL=check-circle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Check = createLucideIcon(\"Check\", [\n  [\"polyline\", { points: \"20 6 9 17 4 12\", key: \"10jjfj\" }]\n]);\n\nexport { Check as default };\n//# sourceMappingURL=check.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst CreditCard = createLucideIcon(\"CreditCard\", [\n  [\n    \"rect\",\n    { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"2\", key: \"ynyp8z\" }\n  ],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"10\", y2: \"10\", key: \"1b3vmo\" }]\n]);\n\nexport { CreditCard as default };\n//# sourceMappingURL=credit-card.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst QrCode = createLucideIcon(\"QrCode\", [\n  [\"rect\", { width: \"5\", height: \"5\", x: \"3\", y: \"3\", rx: \"1\", key: \"1tu5fj\" }],\n  [\n    \"rect\",\n    { width: \"5\", height: \"5\", x: \"16\", y: \"3\", rx: \"1\", key: \"1v8r4q\" }\n  ],\n  [\n    \"rect\",\n    { width: \"5\", height: \"5\", x: \"3\", y: \"16\", rx: \"1\", key: \"1x03jg\" }\n  ],\n  [\"path\", { d: \"M21 16h-3a2 2 0 0 0-2 2v3\", key: \"177gqh\" }],\n  [\"path\", { d: \"M21 21v.01\", key: \"ents32\" }],\n  [\"path\", { d: \"M12 7v3a2 2 0 0 1-2 2H7\", key: \"8crl2c\" }],\n  [\"path\", { d: \"M3 12h.01\", key: \"nlz23k\" }],\n  [\"path\", { d: \"M12 3h.01\", key: \"n36tog\" }],\n  [\"path\", { d: \"M12 16v.01\", key: \"133mhm\" }],\n  [\"path\", { d: \"M16 12h1\", key: \"1slzba\" }],\n  [\"path\", { d: \"M21 12v.01\", key: \"1lwtk9\" }],\n  [\"path\", { d: \"M12 21v-1\", key: \"1880an\" }]\n]);\n\nexport { QrCode as default };\n//# sourceMappingURL=qr-code.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\n    \"path\",\n    { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }\n  ],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\n    \"path\",\n    { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }\n  ],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Scan = createLucideIcon(\"Scan\", [\n  [\"path\", { d: \"M3 7V5a2 2 0 0 1 2-2h2\", key: \"aa7l1z\" }],\n  [\"path\", { d: \"M17 3h2a2 2 0 0 1 2 2v2\", key: \"4qcy5o\" }],\n  [\"path\", { d: \"M21 17v2a2 2 0 0 1-2 2h-2\", key: \"6vwrx8\" }],\n  [\"path\", { d: \"M7 21H5a2 2 0 0 1-2-2v-2\", key: \"ioqczr\" }]\n]);\n\nexport { Scan as default };\n//# sourceMappingURL=scan.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Smartphone = createLucideIcon(\"Smartphone\", [\n  [\n    \"rect\",\n    {\n      width: \"14\",\n      height: \"20\",\n      x: \"5\",\n      y: \"2\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"1yt0o3\"\n    }\n  ],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }]\n]);\n\nexport { Smartphone as default };\n//# sourceMappingURL=smartphone.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst TrendingUp = createLucideIcon(\"TrendingUp\", [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n]);\n\nexport { TrendingUp as default };\n//# sourceMappingURL=trending-up.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst WifiOff = createLucideIcon(\"WifiOff\", [\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }],\n  [\"path\", { d: \"M8.5 16.5a5 5 0 0 1 7 0\", key: \"sej527\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 4.17-2.65\", key: \"11utq1\" }],\n  [\"path\", { d: \"M10.66 5c4.01-.36 8.14.9 11.34 3.76\", key: \"hxefdu\" }],\n  [\"path\", { d: \"M16.85 11.25a10 10 0 0 1 2.22 1.68\", key: \"q734kn\" }],\n  [\"path\", { d: \"M5 13a10 10 0 0 1 5.24-2.76\", key: \"piq4yl\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"20\", y2: \"20\", key: \"of4bc4\" }]\n]);\n\nexport { WifiOff as default };\n//# sourceMappingURL=wifi-off.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Wifi = createLucideIcon(\"Wifi\", [\n  [\"path\", { d: \"M5 13a10 10 0 0 1 14 0\", key: \"6v8j51\" }],\n  [\"path\", { d: \"M8.5 16.5a5 5 0 0 1 7 0\", key: \"sej527\" }],\n  [\"path\", { d: \"M2 8.82a15 15 0 0 1 20 0\", key: \"dnpr2z\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"20\", y2: \"20\", key: \"of4bc4\" }]\n]);\n\nexport { Wifi as default };\n//# sourceMappingURL=wifi.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst XCircle = createLucideIcon(\"XCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { XCircle as default };\n//# sourceMappingURL=x-circle.mjs.map\n","// src/services/api.js\r\nimport axios from \"axios\";\r\n\r\n// Configuration de base pour l'API\r\nconst API_BASE_URL = import.meta.env.PROD\r\n  ? window.location.origin // En production, même domaine\r\n  : \"http://localhost:8888\"; // En développement local avec Netlify Dev\r\n\r\n// Instance axios configurée\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000, // 30 secondes pour les fonctions Netlify\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// Intercepteur pour les erreurs\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    console.error(\"API Error:\", error);\r\n\r\n    // Gestion des erreurs réseau\r\n    if (!error.response) {\r\n      throw new Error(\"Problème de connexion réseau\");\r\n    }\r\n\r\n    // Gestion des erreurs serveur\r\n    if (error.response.status >= 500) {\r\n      throw new Error(\"Erreur serveur. Veuillez réessayer plus tard.\");\r\n    }\r\n\r\n    throw error;\r\n  }\r\n);\r\n\r\n// Service API pour les événements\r\nexport const eventService = {\r\n  // Récupérer tous les événements\r\n  async getEvents() {\r\n    try {\r\n      const response = await api.get(\"/api/events\");\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de la récupération des événements:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Service API pour les codes promo\r\nexport const promoService = {\r\n  // Valider un code promo\r\n  async validatePromo(code, nombreBillets) {\r\n    try {\r\n      const response = await api.post(\"/api/validate-promo\", {\r\n        code,\r\n        nombreBillets,\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur validation code promo:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Service API pour les tickets\r\nexport const ticketService = {\r\n  // Créer un nouveau ticket\r\n  async createTicket(ticketData) {\r\n    try {\r\n      const response = await api.post(\"/api/tickets\", ticketData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur création ticket:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Valider un ticket (admin)\r\n  async validateTicket(ticketId, action) {\r\n    try {\r\n      const response = await api.put(`/api/tickets/${ticketId}/validate`, {\r\n        action, // 'approve' ou 'reject'\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur validation ticket:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Vérifier un ticket à l'entrée\r\n  async verifyTicket(verificationData) {\r\n    try {\r\n      const response = await api.post(\"/api/tickets/verify\", verificationData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur vérification ticket:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Service API pour les paiements Mobile Money\r\nexport const paymentService = {\r\n  // Simulation paiement Mobile Money\r\n  async simulateMobileMoneyPayment(paymentData) {\r\n    try {\r\n      const response = await api.post(\r\n        \"/api/mobile-money/simulate\",\r\n        paymentData\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur simulation Mobile Money:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Webhook Mobile Money (pour les intégrations réelles)\r\n  async handleMobileMoneyWebhook(webhookData) {\r\n    try {\r\n      const response = await api.post(\"/api/webhook/mobile-money\", webhookData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur webhook Mobile Money:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Service API pour l'administration\r\nexport const adminService = {\r\n  // Récupérer les statistiques admin\r\n  async getStats() {\r\n    try {\r\n      const response = await api.get(\"/api/admin/stats\");\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erreur récupération stats:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// Utilitaires\r\nexport const apiUtils = {\r\n  // Test de connectivité API\r\n  async testConnection() {\r\n    try {\r\n      const response = await api.get(\"/api/events\");\r\n      return { success: true, data: response.data };\r\n    } catch (error) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  },\r\n\r\n  // Récupérer l'URL de base de l'API\r\n  getBaseURL() {\r\n    return API_BASE_URL;\r\n  },\r\n};\r\n\r\nexport default api;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Users,\r\n  TrendingUp,\r\n  Clock,\r\n  CheckCircle,\r\n  XCircle,\r\n  Scan,\r\n  RefreshCw,\r\n  AlertTriangle,\r\n  Wifi,\r\n  WifiOff,\r\n} from \"lucide-react\";\r\n\r\nimport { adminService, ticketService } from \"../services/api\";\r\n\r\nconst AdminDashboard = ({ onBack, isOnline, apiWorking }) => {\r\n  const [stats, setStats] = useState({\r\n    totalTickets: { count: 0 },\r\n    pendingTickets: { count: 0 },\r\n    totalRevenue: { total: 0 },\r\n    ticketsPending: [],\r\n    ticketsRecent: [],\r\n  });\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [scannedTicket, setScannedTicket] = useState(\"\");\r\n  const [verificationResult, setVerificationResult] = useState(null);\r\n\r\n  // Charger les statistiques\r\n  const loadStats = async () => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        const data = await adminService.getStats();\r\n        setStats(data);\r\n      } else {\r\n        // Mode hors-ligne - utiliser les données locales\r\n        const localTickets = JSON.parse(\r\n          localStorage.getItem(\"tickets\") || \"[]\"\r\n        );\r\n        const localTransactions = JSON.parse(\r\n          localStorage.getItem(\"transactions\") || \"[]\"\r\n        );\r\n\r\n        const confirmedTickets = localTickets.filter(\r\n          (t) => t.statut === \"confirmed\"\r\n        );\r\n        const pendingTickets = localTickets.filter(\r\n          (t) => t.statut === \"pending\"\r\n        );\r\n        const completedTransactions = localTransactions.filter(\r\n          (t) => t.statut === \"completed\"\r\n        );\r\n\r\n        setStats({\r\n          totalTickets: { count: confirmedTickets.length },\r\n          pendingTickets: { count: pendingTickets.length },\r\n          totalRevenue: {\r\n            total: completedTransactions.reduce(\r\n              (sum, t) => sum + (t.montant || 0),\r\n              0\r\n            ),\r\n          },\r\n          ticketsPending: pendingTickets.slice(-10),\r\n          ticketsRecent: confirmedTickets.slice(-10).reverse(),\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Erreur chargement stats:\", err);\r\n      setError(\"Impossible de charger les statistiques\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Valider un ticket\r\n  const validateTicket = async (ticketId, action) => {\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        await ticketService.validateTicket(ticketId, action);\r\n      } else {\r\n        // Mode hors-ligne - mettre à jour localement\r\n        const localTickets = JSON.parse(\r\n          localStorage.getItem(\"tickets\") || \"[]\"\r\n        );\r\n        const updatedTickets = localTickets.map((ticket) =>\r\n          ticket.id === ticketId\r\n            ? {\r\n                ...ticket,\r\n                statut: action === \"approve\" ? \"confirmed\" : \"rejected\",\r\n                dateValidation: new Date().toISOString(),\r\n              }\r\n            : ticket\r\n        );\r\n        localStorage.setItem(\"tickets\", JSON.stringify(updatedTickets));\r\n\r\n        // Mettre à jour les transactions locales\r\n        const localTransactions = JSON.parse(\r\n          localStorage.getItem(\"transactions\") || \"[]\"\r\n        );\r\n        const updatedTransactions = localTransactions.map((transaction) =>\r\n          transaction.ticketId === ticketId\r\n            ? {\r\n                ...transaction,\r\n                statut: action === \"approve\" ? \"completed\" : \"failed\",\r\n              }\r\n            : transaction\r\n        );\r\n        localStorage.setItem(\r\n          \"transactions\",\r\n          JSON.stringify(updatedTransactions)\r\n        );\r\n      }\r\n\r\n      // Recharger les stats\r\n      await loadStats();\r\n\r\n      const actionText = action === \"approve\" ? \"approuvé\" : \"rejeté\";\r\n      alert(`✅ Ticket ${actionText} avec succès`);\r\n    } catch (err) {\r\n      console.error(\"Erreur validation ticket:\", err);\r\n      setError(`Erreur lors de la validation: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  // Vérifier un ticket à l'entrée\r\n  const verifyTicketForEntry = async () => {\r\n    if (!scannedTicket.trim()) {\r\n      setError(\"Veuillez entrer un ID ou QR code\");\r\n      return;\r\n    }\r\n\r\n    setVerificationResult(null);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        const result = await ticketService.verifyTicket({\r\n          ticketId: scannedTicket,\r\n          qrCode: scannedTicket,\r\n        });\r\n        setVerificationResult(result);\r\n      } else {\r\n        // Mode hors-ligne - vérifier localement\r\n        const localTickets = JSON.parse(\r\n          localStorage.getItem(\"tickets\") || \"[]\"\r\n        );\r\n        const ticket = localTickets.find(\r\n          (t) =>\r\n            t.id === scannedTicket ||\r\n            t.qrCode === scannedTicket ||\r\n            t.codeUnique === scannedTicket\r\n        );\r\n\r\n        if (ticket) {\r\n          if (ticket.statut === \"confirmed\") {\r\n            setVerificationResult({\r\n              valid: true,\r\n              ticket: {\r\n                id: ticket.id,\r\n                nombreBillets: ticket.nombreBillets,\r\n                prixTotal: ticket.prixTotal,\r\n                typePaiement: ticket.typePaiement,\r\n              },\r\n              message: `Ticket valide - ${ticket.nombreBillets} personne(s) - Accès autorisé`,\r\n            });\r\n          } else {\r\n            setVerificationResult({\r\n              valid: false,\r\n              ticket,\r\n              message: `Ticket non confirmé - Statut: ${ticket.statut}`,\r\n            });\r\n          }\r\n        } else {\r\n          setVerificationResult({\r\n            valid: false,\r\n            message: \"Ticket introuvable\",\r\n          });\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Erreur vérification ticket:\", err);\r\n      setError(`Erreur vérification: ${err.message}`);\r\n    }\r\n\r\n    setScannedTicket(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadStats();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw\r\n            className=\"animate-spin mx-auto mb-4 text-blue-600\"\r\n            size={48}\r\n          />\r\n          <p>Chargement du dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-4\">\r\n      {/* Alerte de connectivité */}\r\n      {(!isOnline || !apiWorking) && (\r\n        <div\r\n          className={`fixed top-0 left-0 right-0 z-50 p-2 text-center text-sm text-white ${\r\n            !isOnline ? \"bg-red-500\" : \"bg-orange-500\"\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center justify-center space-x-2\">\r\n            {!isOnline ? <WifiOff size={16} /> : <AlertTriangle size={16} />}\r\n            <span>\r\n              {!isOnline ? \"Mode hors-ligne\" : \"API non disponible\"} - Données\r\n              locales uniquement\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"max-w-6xl mx-auto mt-8\">\r\n        {/* En-tête */}\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900\">\r\n                Admin Dashboard\r\n              </h1>\r\n              <div className=\"flex items-center space-x-2 mt-2\">\r\n                {isOnline && apiWorking ? (\r\n                  <>\r\n                    <Wifi size={16} className=\"text-green-600\" />\r\n                    <span className=\"text-sm text-green-600\">En ligne</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <WifiOff size={16} className=\"text-orange-600\" />\r\n                    <span className=\"text-sm text-orange-600\">Hors-ligne</span>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={loadStats}\r\n                className=\"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\r\n              >\r\n                <RefreshCw size={16} />\r\n                <span>Actualiser</span>\r\n              </button>\r\n              <button\r\n                onClick={onBack}\r\n                className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\"\r\n              >\r\n                Retour Client\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\r\n            <p className=\"text-red-600\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Statistiques */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\r\n          <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Tickets confirmés</p>\r\n                <p className=\"text-3xl font-bold text-blue-600\">\r\n                  {stats.totalTickets?.count || 0}\r\n                </p>\r\n              </div>\r\n              <Users className=\"text-blue-600\" size={32} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Revenus totaux</p>\r\n                <p className=\"text-3xl font-bold text-green-600\">\r\n                  {(stats.totalRevenue?.total || 0).toLocaleString()} F\r\n                </p>\r\n              </div>\r\n              <TrendingUp className=\"text-green-600\" size={32} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">En attente</p>\r\n                <p className=\"text-3xl font-bold text-orange-600\">\r\n                  {stats.pendingTickets?.count || 0}\r\n                </p>\r\n              </div>\r\n              <Clock className=\"text-orange-600\" size={32} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Scanner d'entrée */}\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n          <h2 className=\"text-xl font-bold mb-4\">🎫 Contrôle d'accès</h2>\r\n\r\n          <div className=\"flex space-x-4 mb-4\">\r\n            <input\r\n              type=\"text\"\r\n              value={scannedTicket}\r\n              onChange={(e) => setScannedTicket(e.target.value)}\r\n              placeholder=\"Scanner ou saisir l'ID du ticket...\"\r\n              className=\"flex-1 p-3 border border-gray-300 rounded-lg\"\r\n              onKeyPress={(e) => e.key === \"Enter\" && verifyTicketForEntry()}\r\n            />\r\n            <button\r\n              onClick={verifyTicketForEntry}\r\n              className=\"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center space-x-2\"\r\n            >\r\n              <Scan size={20} />\r\n              <span>Vérifier</span>\r\n            </button>\r\n          </div>\r\n\r\n          {verificationResult && (\r\n            <div\r\n              className={`p-4 rounded-lg border ${\r\n                verificationResult.valid\r\n                  ? \"bg-green-50 border-green-200\"\r\n                  : \"bg-red-50 border-red-200\"\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center space-x-2 mb-2\">\r\n                {verificationResult.valid ? (\r\n                  <CheckCircle className=\"text-green-600\" size={20} />\r\n                ) : (\r\n                  <XCircle className=\"text-red-600\" size={20} />\r\n                )}\r\n                <span\r\n                  className={`font-semibold ${\r\n                    verificationResult.valid ? \"text-green-600\" : \"text-red-600\"\r\n                  }`}\r\n                >\r\n                  {verificationResult.message}\r\n                </span>\r\n              </div>\r\n\r\n              {verificationResult.valid && verificationResult.ticket && (\r\n                <div className=\"text-sm text-gray-600 space-y-1\">\r\n                  <p>• ID: {verificationResult.ticket.id}</p>\r\n                  <p>• Personnes: {verificationResult.ticket.nombreBillets}</p>\r\n                  <p>\r\n                    • Montant:{\" \"}\r\n                    {verificationResult.ticket.prixTotal?.toLocaleString()} FCFA\r\n                  </p>\r\n                  <p>• Paiement: {verificationResult.ticket.typePaiement}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Tickets en attente */}\r\n        {stats.ticketsPending?.length > 0 && (\r\n          <div className=\"bg-white rounded-xl shadow-lg p-6 mb-6\">\r\n            <h2 className=\"text-xl font-bold mb-4\">\r\n              ⏳ Tickets en attente ({stats.ticketsPending.length})\r\n            </h2>\r\n\r\n            <div className=\"space-y-4\">\r\n              {stats.ticketsPending.map((ticket) => (\r\n                <div\r\n                  key={ticket.id}\r\n                  className=\"border border-orange-200 rounded-lg p-4 bg-orange-50\"\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"font-mono text-sm text-gray-600\">\r\n                        {ticket.id}\r\n                      </p>\r\n                      <p className=\"font-semibold\">\r\n                        {ticket.nombre_billets || ticket.nombreBillets}{\" \"}\r\n                        billet(s) -{\" \"}\r\n                        {(\r\n                          ticket.prix_total || ticket.prixTotal\r\n                        )?.toLocaleString()}{\" \"}\r\n                        FCFA\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        Paiement: {ticket.type_paiement || ticket.typePaiement}\r\n                        {ticket.code_promo && ` • Code: ${ticket.code_promo}`}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        Créé:{\" \"}\r\n                        {new Date(\r\n                          ticket.date_creation || ticket.dateCreation\r\n                        ).toLocaleString(\"fr-FR\")}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex space-x-2\">\r\n                      <button\r\n                        onClick={() => validateTicket(ticket.id, \"approve\")}\r\n                        className=\"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-1\"\r\n                      >\r\n                        <CheckCircle size={16} />\r\n                        <span>Approuver</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => validateTicket(ticket.id, \"reject\")}\r\n                        className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-1\"\r\n                      >\r\n                        <XCircle size={16} />\r\n                        <span>Rejeter</span>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Tickets récents */}\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-4\">\r\n            ✅ Tickets récents confirmés\r\n          </h2>\r\n\r\n          {!stats.ticketsRecent || stats.ticketsRecent.length === 0 ? (\r\n            <p className=\"text-gray-500 text-center py-8\">\r\n              Aucun ticket confirmé\r\n            </p>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {stats.ticketsRecent.map((ticket) => (\r\n                <div\r\n                  key={ticket.id}\r\n                  className=\"border border-green-200 rounded-lg p-3 bg-green-50\"\r\n                >\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <div>\r\n                      <p className=\"font-mono text-sm text-gray-600\">\r\n                        {ticket.id}\r\n                      </p>\r\n                      <p className=\"text-sm\">\r\n                        {ticket.nombre_billets || ticket.nombreBillets}{\" \"}\r\n                        billet(s) -{\" \"}\r\n                        {(\r\n                          ticket.prix_total || ticket.prixTotal\r\n                        )?.toLocaleString()}{\" \"}\r\n                        FCFA\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      {new Date(\r\n                        ticket.date_validation || ticket.dateValidation\r\n                      ).toLocaleString(\"fr-FR\")}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  QrCode,\r\n  Scan,\r\n  CreditCard,\r\n  Smartphone,\r\n  Banknote,\r\n  Check,\r\n  X,\r\n  Users,\r\n  TrendingUp,\r\n  Wifi,\r\n  WifiOff,\r\n  AlertTriangle,\r\n} from \"lucide-react\";\r\n\r\n// Import des services API et composants\r\nimport {\r\n  eventService,\r\n  promoService,\r\n  ticketService,\r\n  paymentService,\r\n  apiUtils,\r\n} from \"./services/api\";\r\n\r\nimport AdminDashboard from \"./components/AdminDashboard\";\r\n\r\n// Hook pour gestion du localStorage avec fallback\r\nconst useLocalStorage = (key, initialValue) => {\r\n  const [value, setValue] = useState(() => {\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch {\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  const setStoredValue = (newValue) => {\r\n    setValue(newValue);\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(newValue));\r\n    } catch (error) {\r\n      console.error(\"Erreur localStorage:\", error);\r\n    }\r\n  };\r\n\r\n  return [value, setStoredValue];\r\n};\r\n\r\n// Hook pour vérifier la connectivité\r\nconst useOnlineStatus = () => {\r\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\r\n\r\n  useEffect(() => {\r\n    const handleOnline = () => setIsOnline(true);\r\n    const handleOffline = () => setIsOnline(false);\r\n\r\n    window.addEventListener(\"online\", handleOnline);\r\n    window.addEventListener(\"offline\", handleOffline);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"online\", handleOnline);\r\n      window.removeEventListener(\"offline\", handleOffline);\r\n    };\r\n  }, []);\r\n\r\n  return isOnline;\r\n};\r\n\r\n// Composant d'alerte de connectivité\r\nconst ConnectivityAlert = ({ isOnline, apiWorking }) => {\r\n  if (isOnline && apiWorking) return null;\r\n\r\n  return (\r\n    <div\r\n      className={`fixed top-0 left-0 right-0 z-50 p-2 text-center text-sm text-white ${\r\n        !isOnline ? \"bg-red-500\" : \"bg-orange-500\"\r\n      }`}\r\n    >\r\n      {!isOnline ? (\r\n        <div className=\"flex items-center justify-center space-x-2\">\r\n          <WifiOff size={16} />\r\n          <span>Mode hors-ligne - Fonctionnalités limitées</span>\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex items-center justify-center space-x-2\">\r\n          <AlertTriangle size={16} />\r\n          <span>Problème de connexion API - Utilisation du cache local</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Composant principal\r\nexport default function TicketingApp() {\r\n  // États principaux\r\n  const [currentView, setCurrentView] = useState(\"qr-scan\");\r\n  const [selectedTickets, setSelectedTickets] = useState(1);\r\n  const [promoCode, setPromoCode] = useState(\"\");\r\n  const [promoDiscount, setPromoDiscount] = useState(0);\r\n  const [paymentMethod, setPaymentMethod] = useState(\"\");\r\n  const [currentTicket, setCurrentTicket] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // États pour les données\r\n  const [events, setEvents] = useState([]);\r\n  const [currentEvent, setCurrentEvent] = useState(null);\r\n\r\n  // États pour la connectivité\r\n  const isOnline = useOnlineStatus();\r\n  const [apiWorking, setApiWorking] = useState(true);\r\n\r\n  // Cache local pour mode hors-ligne\r\n  const [localTickets, setLocalTickets] = useLocalStorage(\"tickets\", []);\r\n\r\n  // Codes promo par défaut (fallback)\r\n  const defaultPromoCodes = {\r\n    NOEL2024: { reduction: 10, actif: true },\r\n    FAMILLE: { reduction: 15, minBillets: 4, actif: true },\r\n    EARLY: { reduction: 20, actif: true },\r\n  };\r\n\r\n  // Charger les événements au démarrage\r\n  useEffect(() => {\r\n    loadEvents();\r\n    testAPIConnection();\r\n  }, []);\r\n\r\n  // Test de connectivité API\r\n  const testAPIConnection = async () => {\r\n    try {\r\n      const result = await apiUtils.testConnection();\r\n      setApiWorking(result.success);\r\n      if (!result.success) {\r\n        console.warn(\"API non accessible, utilisation du cache local\");\r\n      }\r\n    } catch (error) {\r\n      setApiWorking(false);\r\n      console.error(\"Test API failed:\", error);\r\n    }\r\n  };\r\n\r\n  // Charger les événements\r\n  const loadEvents = async () => {\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        const eventsData = await eventService.getEvents();\r\n        setEvents(eventsData);\r\n        setCurrentEvent(eventsData[0] || null);\r\n\r\n        // Sauvegarder en cache\r\n        localStorage.setItem(\"cached_events\", JSON.stringify(eventsData));\r\n      } else {\r\n        // Utiliser le cache\r\n        const cachedEvents = JSON.parse(\r\n          localStorage.getItem(\"cached_events\") || \"[]\"\r\n        );\r\n        if (cachedEvents.length > 0) {\r\n          setEvents(cachedEvents);\r\n          setCurrentEvent(cachedEvents[0]);\r\n        } else {\r\n          // Événement par défaut\r\n          const defaultEvent = {\r\n            id: 1,\r\n            nom: \"Village de Noël KIDS EVENTS\",\r\n            prix_unitaire: 5000,\r\n            stock_restant: 200,\r\n            date_event: \"2024-12-25\",\r\n          };\r\n          setEvents([defaultEvent]);\r\n          setCurrentEvent(defaultEvent);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur chargement événements:\", error);\r\n      setError(\"Erreur lors du chargement des événements\");\r\n    }\r\n  };\r\n\r\n  // Validation code promo\r\n  const validatePromoCode = async () => {\r\n    if (!promoCode.trim()) {\r\n      setError(\"Veuillez entrer un code promo\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        // Utiliser l'API\r\n        const result = await promoService.validatePromo(\r\n          promoCode.toUpperCase(),\r\n          selectedTickets\r\n        );\r\n        setPromoDiscount(result.pourcentage);\r\n        alert(`✅ Code appliqué ! Réduction de ${result.pourcentage}%`);\r\n      } else {\r\n        // Utiliser les codes par défaut\r\n        const code = defaultPromoCodes[promoCode.toUpperCase()];\r\n        if (code && code.actif) {\r\n          if (code.minBillets && selectedTickets < code.minBillets) {\r\n            setError(`Ce code nécessite minimum ${code.minBillets} billets`);\r\n            return;\r\n          }\r\n          setPromoDiscount(code.reduction);\r\n          alert(`✅ Code appliqué ! Réduction de ${code.reduction}%`);\r\n        } else {\r\n          setError(\"Code promo invalide\");\r\n          setPromoCode(\"\");\r\n          setPromoDiscount(0);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur validation promo:\", error);\r\n      setError(error.response?.data?.error || \"Erreur validation code promo\");\r\n      setPromoCode(\"\");\r\n      setPromoDiscount(0);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Calculer le prix total\r\n  const calculateTotalPrice = () => {\r\n    if (!currentEvent) return 0;\r\n    const basePrice = currentEvent.prix_unitaire || 5000;\r\n    return (basePrice * selectedTickets * (100 - promoDiscount)) / 100;\r\n  };\r\n\r\n  // Générer un ticket\r\n  const generateTicket = async (paymentType, additionalData = {}) => {\r\n    if (!currentEvent) {\r\n      throw new Error(\"Aucun événement sélectionné\");\r\n    }\r\n\r\n    const ticketData = {\r\n      eventId: currentEvent.id,\r\n      nombreBillets: selectedTickets,\r\n      typePaiement: paymentType,\r\n      codePromo: promoCode || null,\r\n      prixUnitaire: currentEvent.prix_unitaire || 5000,\r\n      ...additionalData,\r\n    };\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        // Utiliser l'API\r\n        const result = await ticketService.createTicket(ticketData);\r\n        return {\r\n          id: result.ticketId,\r\n          codeUnique: result.codeUnique,\r\n          qrCode: result.qrCode,\r\n          prixTotal: result.prixTotal,\r\n          reduction: result.reduction,\r\n          statut: result.statut,\r\n          eventId: currentEvent.id,\r\n          nombreBillets: selectedTickets,\r\n          typePaiement: paymentType,\r\n          codePromo: promoCode,\r\n          dateCreation: new Date().toISOString(),\r\n        };\r\n      } else {\r\n        // Mode hors-ligne - générer localement\r\n        const ticket = {\r\n          id: `OFFLINE_TICKET_${Date.now()}`,\r\n          codeUnique: `${currentEvent.id}-${Date.now()}-${Math.random()\r\n            .toString(36)\r\n            .substr(2, 9)}`,\r\n          qrCode: `QR_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n          prixTotal: calculateTotalPrice(),\r\n          reduction: promoDiscount,\r\n          statut: paymentType === \"mobile-money\" ? \"confirmed\" : \"pending\",\r\n          eventId: currentEvent.id,\r\n          nombreBillets: selectedTickets,\r\n          typePaiement: paymentType,\r\n          codePromo: promoCode,\r\n          dateCreation: new Date().toISOString(),\r\n          isOffline: true,\r\n        };\r\n\r\n        // Sauvegarder localement\r\n        const newTickets = [...localTickets, ticket];\r\n        setLocalTickets(newTickets);\r\n\r\n        return ticket;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur génération ticket:\", error);\r\n      throw new Error(\r\n        error.response?.data?.error || \"Erreur lors de la génération du ticket\"\r\n      );\r\n    }\r\n  };\r\n\r\n  // Simulation paiement Mobile Money\r\n  const simulateMobileMoneyPayment = async (provider) => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (isOnline && apiWorking) {\r\n        // Utiliser l'API pour la simulation\r\n        const paymentData = {\r\n          provider,\r\n          montant: calculateTotalPrice(),\r\n          numero: `${\r\n            provider === \"MTN\" ? \"70\" : provider === \"MOOV\" ? \"96\" : \"90\"\r\n          }123456`,\r\n        };\r\n\r\n        const paymentResult = await paymentService.simulateMobileMoneyPayment(\r\n          paymentData\r\n        );\r\n\r\n        if (paymentResult.success) {\r\n          const ticket = await generateTicket(\"mobile-money\", {\r\n            mobileMoneyProvider: provider,\r\n            transactionId: paymentResult.transactionId,\r\n          });\r\n\r\n          setCurrentTicket(ticket);\r\n          setCurrentView(\"ticket-generated\");\r\n        } else {\r\n          throw new Error(paymentResult.message || \"Échec du paiement\");\r\n        }\r\n      } else {\r\n        // Simulation hors-ligne\r\n        setTimeout(async () => {\r\n          try {\r\n            const ticket = await generateTicket(\"mobile-money\");\r\n            setCurrentTicket(ticket);\r\n            setCurrentView(\"ticket-generated\");\r\n          } catch (error) {\r\n            setError(error.message);\r\n          } finally {\r\n            setLoading(false);\r\n          }\r\n        }, 2000);\r\n        return; // Sort de la fonction pour éviter le setLoading(false) en bas\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur paiement Mobile Money:\", error);\r\n      setError(error.message || \"Erreur lors du paiement\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Réinitialiser le formulaire\r\n  const resetForm = () => {\r\n    setSelectedTickets(1);\r\n    setPromoCode(\"\");\r\n    setPromoDiscount(0);\r\n    setCurrentTicket(null);\r\n    setError(\"\");\r\n    setPaymentMethod(\"\");\r\n  };\r\n\r\n  // Composant Scan QR\r\n  const QRScanView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-red-50 to-green-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <div className=\"bg-red-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n            <QrCode size={32} />\r\n          </div>\r\n          <h1 className=\"text-xl font-bold text-gray-800 mb-2\">\r\n            Village de Noël\r\n          </h1>\r\n          <h2 className=\"text-lg text-gray-600 mb-6\">KIDS EVENTS</h2>\r\n\r\n          <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 mb-6\">\r\n            <Scan size={48} className=\"mx-auto text-gray-400 mb-2\" />\r\n            <p className=\"text-gray-500\">\r\n              Scannez le QR code pour acheter vos billets\r\n            </p>\r\n          </div>\r\n\r\n          {/* Indicateur de statut API */}\r\n          <div\r\n            className={`inline-flex items-center space-x-2 px-3 py-1 rounded-full text-xs mb-4 ${\r\n              isOnline && apiWorking\r\n                ? \"bg-green-100 text-green-800\"\r\n                : \"bg-orange-100 text-orange-800\"\r\n            }`}\r\n          >\r\n            {isOnline && apiWorking ? (\r\n              <Wifi size={12} />\r\n            ) : (\r\n              <WifiOff size={12} />\r\n            )}\r\n            <span>\r\n              {isOnline && apiWorking ? \"En ligne\" : \"Mode hors-ligne\"}\r\n            </span>\r\n          </div>\r\n\r\n          <button\r\n            onClick={() => setCurrentView(\"ticket-selection\")}\r\n            className=\"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition-colors mb-4\"\r\n          >\r\n            Acheter des billets\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setCurrentView(\"admin\")}\r\n            className=\"w-full bg-blue-500 text-white py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors\"\r\n          >\r\n            Accès Admin\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Sélection Billets\r\n  const TicketSelectionView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-green-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6 text-center\">\r\n            Sélection des billets\r\n          </h2>\r\n\r\n          {currentEvent && (\r\n            <div className=\"mb-4 p-3 bg-blue-50 rounded-lg\">\r\n              <h3 className=\"font-semibold text-blue-900\">\r\n                {currentEvent.nom}\r\n              </h3>\r\n              <p className=\"text-sm text-blue-700\">\r\n                Prix: {currentEvent.prix_unitaire?.toLocaleString()} FCFA\r\n              </p>\r\n              {currentEvent.stock_restant && (\r\n                <p className=\"text-xs text-blue-600\">\r\n                  Stock disponible: {currentEvent.stock_restant}\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n              <p className=\"text-red-600 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium mb-2\">\r\n              Nombre de billets\r\n            </label>\r\n            <div className=\"flex items-center justify-center space-x-4\">\r\n              <button\r\n                onClick={() => {\r\n                  setSelectedTickets(Math.max(1, selectedTickets - 1));\r\n                  setError(\"\");\r\n                }}\r\n                className=\"w-12 h-12 bg-red-500 text-white rounded-full flex items-center justify-center text-xl font-bold\"\r\n              >\r\n                -\r\n              </button>\r\n              <span className=\"text-2xl font-bold w-8 text-center\">\r\n                {selectedTickets}\r\n              </span>\r\n              <button\r\n                onClick={() => {\r\n                  setSelectedTickets(selectedTickets + 1);\r\n                  setError(\"\");\r\n                }}\r\n                className=\"w-12 h-12 bg-green-500 text-white rounded-full flex items-center justify-center text-xl font-bold\"\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium mb-2\">\r\n              Code de réduction (optionnel)\r\n            </label>\r\n            <div className=\"flex space-x-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={promoCode}\r\n                onChange={(e) => {\r\n                  setPromoCode(e.target.value.toUpperCase());\r\n                  setError(\"\");\r\n                }}\r\n                placeholder=\"NOEL2024\"\r\n                className=\"flex-1 p-3 border border-gray-300 rounded-lg\"\r\n                disabled={loading}\r\n              />\r\n              <button\r\n                onClick={validatePromoCode}\r\n                disabled={loading || !promoCode.trim()}\r\n                className=\"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n              >\r\n                {loading ? \"...\" : \"Valider\"}\r\n              </button>\r\n            </div>\r\n            {promoDiscount > 0 && (\r\n              <p className=\"text-green-600 text-sm mt-2\">\r\n                ✅ Réduction de {promoDiscount}% appliquée\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"bg-gray-50 p-4 rounded-lg mb-6\">\r\n            <div className=\"flex justify-between mb-2\">\r\n              <span>Prix unitaire:</span>\r\n              <span>\r\n                {currentEvent?.prix_unitaire?.toLocaleString() || \"5,000\"} FCFA\r\n              </span>\r\n            </div>\r\n            <div className=\"flex justify-between mb-2\">\r\n              <span>Quantité:</span>\r\n              <span>{selectedTickets}</span>\r\n            </div>\r\n            {promoDiscount > 0 && (\r\n              <div className=\"flex justify-between mb-2 text-green-600\">\r\n                <span>Réduction ({promoDiscount}%):</span>\r\n                <span>\r\n                  -\r\n                  {(\r\n                    ((currentEvent?.prix_unitaire || 5000) *\r\n                      selectedTickets *\r\n                      promoDiscount) /\r\n                    100\r\n                  ).toLocaleString()}{\" \"}\r\n                  FCFA\r\n                </span>\r\n              </div>\r\n            )}\r\n            <hr className=\"my-2\" />\r\n            <div className=\"flex justify-between font-bold text-lg\">\r\n              <span>Total:</span>\r\n              <span>{calculateTotalPrice().toLocaleString()} FCFA</span>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={() => setCurrentView(\"payment-selection\")}\r\n            className=\"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition-colors\"\r\n          >\r\n            Continuer vers le paiement\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Sélection Paiement\r\n  const PaymentSelectionView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-red-50 to-green-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6 text-center\">\r\n            Mode de paiement\r\n          </h2>\r\n\r\n          <div className=\"space-y-4\">\r\n            <button\r\n              onClick={() => {\r\n                setPaymentMethod(\"cash\");\r\n                setCurrentView(\"cash-payment\");\r\n              }}\r\n              className=\"w-full p-4 border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 flex items-center space-x-4\"\r\n            >\r\n              <Banknote className=\"text-green-600\" size={24} />\r\n              <div className=\"text-left\">\r\n                <div className=\"font-semibold\">Espèces (Cash)</div>\r\n                <div className=\"text-sm text-gray-500\">\r\n                  Paiement à la caisse\r\n                </div>\r\n              </div>\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => {\r\n                setPaymentMethod(\"card\");\r\n                setCurrentView(\"card-payment\");\r\n              }}\r\n              className=\"w-full p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 flex items-center space-x-4\"\r\n            >\r\n              <CreditCard className=\"text-blue-600\" size={24} />\r\n              <div className=\"text-left\">\r\n                <div className=\"font-semibold\">Carte bancaire</div>\r\n                <div className=\"text-sm text-gray-500\">TPE à l'accueil</div>\r\n              </div>\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => {\r\n                setPaymentMethod(\"mobile-money\");\r\n                setCurrentView(\"mobile-money-selection\");\r\n              }}\r\n              className=\"w-full p-4 border-2 border-gray-200 rounded-lg hover:border-orange-500 hover:bg-orange-50 flex items-center space-x-4\"\r\n            >\r\n              <Smartphone className=\"text-orange-600\" size={24} />\r\n              <div className=\"text-left\">\r\n                <div className=\"font-semibold\">Mobile Money</div>\r\n                <div className=\"text-sm text-gray-500\">MTN, Moov, Togocom</div>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n            <div className=\"text-sm font-medium\">Récapitulatif:</div>\r\n            <div className=\"text-lg font-bold\">\r\n              {calculateTotalPrice().toLocaleString()} FCFA\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Mobile Money\r\n  const MobileMoneyView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-orange-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-6 text-center\">Mobile Money</h2>\r\n\r\n          {error && (\r\n            <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n              <p className=\"text-red-600 text-sm\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {loading ? (\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4\"></div>\r\n              <p>Traitement du paiement en cours...</p>\r\n              <p className=\"text-sm text-gray-500 mt-2\">Veuillez patienter</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div\r\n                onClick={() => simulateMobileMoneyPayment(\"MTN\")}\r\n                className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-yellow-500 cursor-pointer transition-colors\"\r\n              >\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className=\"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center text-white font-bold\">\r\n                    MTN\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-semibold\">MTN Mobile Money</div>\r\n                    <div className=\"text-sm text-gray-500\">Composez *133#</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                onClick={() => simulateMobileMoneyPayment(\"MOOV\")}\r\n                className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 cursor-pointer transition-colors\"\r\n              >\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className=\"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold\">\r\n                    MOOV\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-semibold\">Moov Money</div>\r\n                    <div className=\"text-sm text-gray-500\">Composez *555#</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                onClick={() => simulateMobileMoneyPayment(\"TOGOCOM\")}\r\n                className=\"p-4 border-2 border-gray-200 rounded-lg hover:border-green-500 cursor-pointer transition-colors\"\r\n              >\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <div className=\"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold\">\r\n                    TCEL\r\n                  </div>\r\n                  <div>\r\n                    <div className=\"font-semibold\">Togocom</div>\r\n                    <div className=\"text-sm text-gray-500\">Composez *890#</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mt-6 p-4 bg-orange-50 rounded-lg\">\r\n            <div className=\"text-sm font-medium mb-2\">Montant à payer:</div>\r\n            <div className=\"text-2xl font-bold text-orange-600\">\r\n              {calculateTotalPrice().toLocaleString()} FCFA\r\n            </div>\r\n          </div>\r\n\r\n          {!isOnline && (\r\n            <div className=\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n              <p className=\"text-yellow-800 text-sm\">\r\n                ⚠️ Mode hors-ligne: Le ticket sera généré localement et devra\r\n                être synchronisé plus tard.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Paiement Cash\r\n  const CashPaymentView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-green-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <Banknote size={48} className=\"mx-auto text-green-600 mb-4\" />\r\n          <h2 className=\"text-xl font-bold mb-4\">Paiement en espèces</h2>\r\n          <div className=\"bg-green-50 p-4 rounded-lg mb-6\">\r\n            <div className=\"text-lg font-semibold\">Montant à payer:</div>\r\n            <div className=\"text-2xl font-bold text-green-600\">\r\n              {calculateTotalPrice().toLocaleString()} FCFA\r\n            </div>\r\n          </div>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Présentez-vous à la caisse avec le montant exact. Votre ticket sera\r\n            généré après validation du paiement par notre équipe.\r\n          </p>\r\n          <button\r\n            onClick={async () => {\r\n              try {\r\n                const ticket = await generateTicket(\"cash\");\r\n                setCurrentTicket(ticket);\r\n                setCurrentView(\"ticket-pending\");\r\n              } catch (error) {\r\n                setError(error.message);\r\n              }\r\n            }}\r\n            className=\"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600\"\r\n          >\r\n            Confirmer - Aller à la caisse\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Paiement Carte\r\n  const CardPaymentView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-blue-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <CreditCard size={48} className=\"mx-auto text-blue-600 mb-4\" />\r\n          <h2 className=\"text-xl font-bold mb-4\">Paiement par carte</h2>\r\n          <div className=\"bg-blue-50 p-4 rounded-lg mb-6\">\r\n            <div className=\"text-lg font-semibold\">Montant à payer:</div>\r\n            <div className=\"text-2xl font-bold text-blue-600\">\r\n              {calculateTotalPrice().toLocaleString()} FCFA\r\n            </div>\r\n          </div>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Dirigez-vous vers le TPE à l'accueil pour effectuer votre paiement\r\n            par carte bancaire. Votre ticket sera généré après validation.\r\n          </p>\r\n          <button\r\n            onClick={async () => {\r\n              try {\r\n                const ticket = await generateTicket(\"card\");\r\n                setCurrentTicket(ticket);\r\n                setCurrentView(\"ticket-pending\");\r\n              } catch (error) {\r\n                setError(error.message);\r\n              }\r\n            }}\r\n            className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600\"\r\n          >\r\n            Confirmer - Aller au TPE\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Ticket Généré\r\n  const TicketGeneratedView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-green-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <div className=\"bg-green-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n            <Check size={32} />\r\n          </div>\r\n\r\n          <h2 className=\"text-xl font-bold mb-4 text-green-600\">\r\n            Paiement confirmé !\r\n          </h2>\r\n\r\n          {currentTicket && (\r\n            <div className=\"bg-gray-50 p-4 rounded-lg mb-6\">\r\n              <div className=\"border-2 border-gray-300 rounded-lg p-4 mb-4\">\r\n                <QrCode size={64} className=\"mx-auto mb-2\" />\r\n                <p className=\"text-xs text-gray-500 font-mono break-all\">\r\n                  {currentTicket.qrCode}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-2 text-sm\">\r\n                <div className=\"flex justify-between\">\r\n                  <span>ID Ticket:</span>\r\n                  <span className=\"font-mono text-xs\">{currentTicket.id}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Nombre de billets:</span>\r\n                  <span>{currentTicket.nombreBillets}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Prix total:</span>\r\n                  <span className=\"font-semibold\">\r\n                    {currentTicket.prixTotal.toLocaleString()} FCFA\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span>Mode de paiement:</span>\r\n                  <span className=\"capitalize\">\r\n                    {currentTicket.typePaiement.replace(\"-\", \" \")}\r\n                  </span>\r\n                </div>\r\n                {currentTicket.isOffline && (\r\n                  <div className=\"text-orange-600 text-xs mt-2\">\r\n                    ⚠️ Ticket créé hors-ligne - Synchronisation requise\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <p className=\"text-sm text-gray-600 mb-6\">\r\n            Présentez ce QR code à l'entrée de l'événement\r\n          </p>\r\n\r\n          <div className=\"space-y-3\">\r\n            <button\r\n              onClick={() => {\r\n                setCurrentView(\"qr-scan\");\r\n                resetForm();\r\n              }}\r\n              className=\"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600\"\r\n            >\r\n              Nouveau ticket\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setCurrentView(\"admin\")}\r\n              className=\"w-full bg-blue-500 text-white py-3 rounded-lg font-semibold hover:bg-blue-600\"\r\n            >\r\n              Accès Admin\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Composant Ticket En Attente\r\n  const TicketPendingView = () => (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-orange-50 to-red-50 p-4\">\r\n      <ConnectivityAlert isOnline={isOnline} apiWorking={apiWorking} />\r\n\r\n      <div className=\"max-w-md mx-auto mt-8\">\r\n        <div className=\"bg-white rounded-xl shadow-lg p-6 text-center\">\r\n          <div className=\"bg-orange-500 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-2 border-white border-t-transparent\"></div>\r\n          </div>\r\n          <h2 className=\"text-xl font-bold mb-4 text-orange-600\">\r\n            Paiement en attente\r\n          </h2>\r\n          {currentTicket && (\r\n            <div className=\"bg-gray-50 p-4 rounded-lg mb-6\">\r\n              <div className=\"text-sm font-medium mb-2\">Votre ticket:</div>\r\n              <div className=\"font-mono text-sm bg-white p-2 rounded break-all\">\r\n                {currentTicket.id}\r\n              </div>\r\n              <div className=\"mt-2 text-sm text-gray-600\">\r\n                {currentTicket.nombreBillets} billet(s) -{\" \"}\r\n                {currentTicket.prixTotal.toLocaleString()} FCFA\r\n              </div>\r\n              {currentTicket.isOffline && (\r\n                <div className=\"text-orange-600 text-xs mt-2\">\r\n                  ⚠️ Ticket créé hors-ligne\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Votre demande de ticket est enregistrée. Effectuez votre paiement et\r\n            attendez la validation de notre équipe.\r\n          </p>\r\n          <div className=\"space-y-3\">\r\n            <button\r\n              onClick={() => setCurrentView(\"admin\")}\r\n              className=\"w-full bg-orange-500 text-white py-3 rounded-lg font-semibold hover:bg-orange-600\"\r\n            >\r\n              Vérifier le statut (Admin)\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setCurrentView(\"qr-scan\");\r\n                resetForm();\r\n              }}\r\n              className=\"w-full bg-gray-500 text-white py-3 rounded-lg font-semibold hover:bg-gray-600\"\r\n            >\r\n              Nouveau ticket\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Navigation entre les vues\r\n  const renderCurrentView = () => {\r\n    switch (currentView) {\r\n      case \"qr-scan\":\r\n        return <QRScanView />;\r\n      case \"ticket-selection\":\r\n        return <TicketSelectionView />;\r\n      case \"payment-selection\":\r\n        return <PaymentSelectionView />;\r\n      case \"cash-payment\":\r\n        return <CashPaymentView />;\r\n      case \"card-payment\":\r\n        return <CardPaymentView />;\r\n      case \"mobile-money-selection\":\r\n        return <MobileMoneyView />;\r\n      case \"ticket-generated\":\r\n        return <TicketGeneratedView />;\r\n      case \"ticket-pending\":\r\n        return <TicketPendingView />;\r\n      case \"admin\":\r\n        return (\r\n          <AdminDashboard\r\n            onBack={() => setCurrentView(\"qr-scan\")}\r\n            isOnline={isOnline}\r\n            apiWorking={apiWorking}\r\n          />\r\n        );\r\n      default:\r\n        return <QRScanView />;\r\n    }\r\n  };\r\n\r\n  return <div className=\"font-sans\">{renderCurrentView()}</div>;\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport App from \"./App.jsx\";\r\n\r\nReactDOM.createRoot(document.getElementById(\"root\")).render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","children","rest","ref","createElement","tag","attrs","createLucideIcon$1","AlertTriangle","Banknote","CheckCircle","Check","Clock","CreditCard","QrCode","RefreshCw","Scan","Smartphone","TrendingUp","Users","WifiOff","Wifi","XCircle","API_BASE_URL","api","axios","response","error","eventService","promoService","code","nombreBillets","ticketService","ticketData","ticketId","action","verificationData","paymentService","paymentData","webhookData","adminService","apiUtils","AdminDashboard","onBack","isOnline","apiWorking","stats","setStats","useState","loading","setLoading","setError","scannedTicket","setScannedTicket","verificationResult","setVerificationResult","loadStats","data","localTickets","localTransactions","confirmedTickets","t","pendingTickets","completedTransactions","sum","err","validateTicket","updatedTickets","ticket","updatedTransactions","transaction","verifyTicketForEntry","result","useEffect","jsxs","jsx","Fragment","_a","_b","_c","_d","_e","useLocalStorage","key","initialValue","value","setValue","item","newValue","useOnlineStatus","setIsOnline","handleOnline","handleOffline","ConnectivityAlert","TicketingApp","currentView","setCurrentView","selectedTickets","setSelectedTickets","promoCode","setPromoCode","promoDiscount","setPromoDiscount","paymentMethod","setPaymentMethod","currentTicket","setCurrentTicket","events","setEvents","currentEvent","setCurrentEvent","setApiWorking","setLocalTickets","defaultPromoCodes","loadEvents","testAPIConnection","eventsData","cachedEvents","defaultEvent","validatePromoCode","calculateTotalPrice","generateTicket","paymentType","additionalData","newTickets","simulateMobileMoneyPayment","provider","paymentResult","resetForm","QRScanView","TicketSelectionView","PaymentSelectionView","MobileMoneyView","CashPaymentView","CardPaymentView","TicketGeneratedView","TicketPendingView","renderCurrentView","ReactDOM","React","App"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]}